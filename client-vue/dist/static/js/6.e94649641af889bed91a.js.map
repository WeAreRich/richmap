{"version":3,"sources":["webpack:///./src/components/pages/Try.vue?765e","webpack:///./src/components/pages/Try.vue?5e49","webpack:///./src/components/pages/Try.vue?be0f","webpack:///./src/components/pages/Try.vue","webpack:///./src/services/Logger/index.ts","webpack:///./src/constants/mapbox.ts","webpack:///./src/components/common/map/poverty-map/PovertyMap.vue?349a","webpack:///./src/components/common/map/poverty-map/PovertyMap.vue?e4ff","webpack:///./src/components/common/map/poverty-map/PovertyMap.vue?1ce8","webpack:///./src/components/common/map/poverty-map/PovertyMap.vue?d051","webpack:///./src/components/common/map/poverty-map/PovertyMap.vue","webpack:///./src/services/nominatim.service.ts","webpack:///./src/components/pages/Try.vue?5876"],"names":["o","r","n","i","a","c","s","l","Symbol","iterator","t","constructor","prototype","u","Object","setPrototypeOf","__proto__","Array","e","hasOwnProperty","this","create","pages_Tryvue_type_script_lang_ts","_super","Try","_this","apply","arguments","TAG","mapStyles","mapbox","d","urls","ids","index","__extends","handleSelect","Logger","info","handleOnMapLoad","map","handleChange","addSource","type","url","addLayer","id","source","source-layer","handleShow","animationService","showLayer","handleHide","hideLayer","handleAuto","autoDisplay","length","getOwnPropertyDescriptor","Reflect","decorate","defineProperty","__decorate","vue_property_decorator","components","PovertyMap","default","vue_runtime_esm","f","component","componentNormalizer","_vm","_h","$createElement","_c","_self","staticStyle","width","margin","on","on-map-load","_v","click","_l","_s","$event","__webpack_exports__","tag","contents","_i","Date","toLocaleTimeString","console","_a","contents_1","log","concat","error","contents_2","contents_3","OK+q","__webpack_require__","tileSets","ACCESS_TOKEN","HUBEI_BOUNDS","night-light-2001","night-light-2013","hubeiDEM","hubeiGDP","hubeiSlope","hubieNightLight","REC_LAYER_ID","TSns","iFuS","p","h","y","v","L","m","poverty_map_PovertyMapvue_type_script_lang_ts","call","FIRST_LEVEL_LAYER_ID","SECOND_LEVEL_LAYER_ID","THIRD_LEVEL_LAYER_ID","borderPaint","line-color","line-width","query","searchItems","nominatimService","nominatim_service","onMapUrlChange","val","oldVal","setStyle","mounted","initMap","mapbox_gl_default","accessToken","Map","container","style","mapUrl","maxBounds","b","addControl","NavigationControl","ScaleControl","onMapLoad","handleChangeFirstLevelCheckBox","value","showFirstLevelBorder","removeLayer","handleChangeSecondLevelCheckBox","showSecondLevelBorder","handleChangeThirdLevelCheckBox","showThirdLevelBorder","removeSource","firstLevelLayer","layer","paint","secondLevelLayer","thirdLevelLayer","Dropdown","dropdown","Tooltip","tooltip","DropdownMenu","dropdown_menu","Checkbox","components_checkbox","Button","components_button","_","staticClass","position","attrs","trigger","placement","content","icon","text-align","slot","display","flex-direction","padding","label","on-change","onclick","Nomination","search","keyword","decodeURIComponent","_services_Logger__WEBPACK_IMPORTED_MODULE_0__","trys","push","fetch","res","sent","json","e_1","oDnw","ymnH"],"mappings":"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","file":"static/js/6.e94649641af889bed91a.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticStyle:{\"width\":\"80%\",\"margin\":\"auto\"}},[_c('poverty-map',{on:{\"on-map-load\":_vm.handleOnMapLoad}}),_vm._v(\" \"),_c('Button',{on:{\"click\":_vm.handleChange}},[_vm._v(\"change\")]),_vm._v(\" \"),_c('Button',{on:{\"click\":_vm.handleHide}},[_vm._v(\"hide\")]),_vm._v(\" \"),_c('ol',_vm._l((_vm.ids),function(id){return _c('li',[_vm._v(\"\\n            \"+_vm._s(id)+\"\\n            \"),_c('Button',{on:{\"click\":function($event){_vm.handleShow(id)}}},[_vm._v(\"显示\")])],1)})),_vm._v(\" \"),_c('Button',{on:{\"click\":_vm.handleAuto}},[_vm._v(\"Auto\")])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--1-1!../../../node_modules/tslint-loader/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Try.vue?vue&type=script&lang=ts\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--1-1!../../../node_modules/tslint-loader/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Try.vue?vue&type=script&lang=ts\"","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from 'vue';\nimport PovertyMap from '../common/map/poverty-map/PovertyMap.vue';\nimport { Component } from 'vue-property-decorator';\n// import MapQueryComponent from '../map/MapQueryComponent.vue';\nimport { mapStyles } from '../../constants/mapbox';\nimport { MapSourceAnimationService } from '../../services/map-source-animation.service';\nimport { Logger } from '../../services/Logger';\n\n@Component({\n  components: {\n    PovertyMap\n  }\n})\nexport default class Try extends Vue {\n  private TAG = 'Try.vue';\n  private mapStyles = mapStyles;\n  private map: mapboxgl.Map;\n  private animationService: MapSourceAnimationService;\n  private id: string;\n\n  urls = ['mapbox://wenxiangdong.0u7nbzi0', 'mapbox://wenxiangdong.dhr5yy3g'];\n  ids = [];\n\n  index = 'night-light-2013';\n\n  handleSelect(n) {\n    Logger.info(this.TAG, n);\n  }\n\n  handleOnMapLoad(map: mapboxgl.Map) {\n    Logger.info(this.TAG, 'map loaded', map);\n    this.map = map;\n  }\n  handleChange() {\n    Logger.info(this.TAG, 'change');\n    // let url = 'mapbox://wenxiangdong.dhr5yy3g';\n    this.map.addSource('hubei', {\n      type: 'raster',\n      url: 'mapbox://vsr2018.2g41qcaf'\n    });\n    this.map.addLayer({\n      id: 'hubei',\n      type: 'raster',\n      source: 'hubei',\n      'source-layer': '1-6zujon'\n    });\n\n  }\n  handleShow(id) {\n    Logger.info(this.TAG, id);\n    this.animationService.showLayer(id);\n  }\n  handleHide() {\n    if (!this.animationService) return;\n    this.animationService.hideLayer(this.id);\n  }\n\n  handleAuto() {\n    this.animationService.autoDisplay();\n  }\n}\n","import { render, staticRenderFns } from \"./Try.vue?vue&type=template&id=b39d9fe4\"\nimport script from \"./Try.vue?vue&type=script&lang=ts\"\nexport * from \"./Try.vue?vue&type=script&lang=ts\"\nimport style0 from \"./Try.vue?vue&type=style&index=0&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","/*\n日志类\n */\nexport class Logger {\n  private instance: Logger;\n\n  static info(tag, ...contents): void {\n    let time = new Date().toLocaleTimeString();\n    if (console.info) {\n      console.info(`At ${time} in 【${tag}】`);\n      for (let item of contents) {\n        console.info(item);\n      }\n      console.log('-------------------------------');\n    } else {\n      Logger.log(tag, ...contents);\n    }\n  }\n\n  static error(tag, ...contents): void {\n    let time = new Date().toLocaleTimeString();\n    if (console.error) {\n      console.error(`At ${time} in ${tag}`);\n      for (let item of contents) {\n        console.error(item);\n      }\n    } else {\n      Logger.log(tag, ...contents);\n    }\n  }\n\n  static log(tag, ...contents): void {\n    let time = new Date().toLocaleTimeString();\n    console.log(`At ${time} in ${tag}`);\n    for (let item of contents) {\n      console.log(item);\n    }\n  }\n}\n","const ACCESS_TOKEN = 'pk.eyJ1Ijoid2VueGlhbmdkb25nIiwiYSI6ImNqajEyN2owYjBvNHYzdm10c2p2NXowM2kifQ.kixIr8Jwk2mAqmlQCWW88Q';\nconst CHINA_BOUNDS = [[70, 17], [140, 55]];\n// 108.3,29.0,116.3,33.3\nconst HUBEI_BOUNDS =[[108.3,29.0],[116.3,33.3]];\n\nconst CHINA_CENTER = [104.999927, 35.000074];\nlet mapStyles = {\n  'night-light-2001': 'mapbox://styles/wenxiangdong/cjjuyolqw21sf2rmmrrp13azv',\n  'night-light-2013': 'mapbox://styles/wenxiangdong/cjjuzjzid0a1a2ro45v4abumf'\n};\n\nlet tileSets = {\n  'hubeiDEM': 'mapbox://wenxiangdong.6mjehw01',\n  'hubeiGDP': 'mapbox://wenxiangdong.aa00vskv',\n  'hubeiSlope': 'mapbox://wenxiangdong.9vwvp9tc',\n  'hubieNightLight': 'mapbox://wenxiangdong.527q7f2p'\n};\nconst REC_LAYER_ID = 'rec-layer-id';\nconst LINE_LAYER_ID = 'line-layer-id';\nexport { ACCESS_TOKEN, CHINA_BOUNDS, CHINA_CENTER, mapStyles, REC_LAYER_ID, LINE_LAYER_ID, HUBEI_BOUNDS, tileSets };\n","import mod from \"-!../../../../../node_modules/extract-text-webpack-plugin/dist/loader.js??ref--6-0!../../../../../node_modules/vue-style-loader/index.js!../../../../../node_modules/css-loader/index.js??ref--6-2!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PovertyMap.vue?vue&type=style&index=0&id=531a0f7c&scoped=true&lang=css\"; export default mod; export * from \"-!../../../../../node_modules/extract-text-webpack-plugin/dist/loader.js??ref--6-0!../../../../../node_modules/vue-style-loader/index.js!../../../../../node_modules/css-loader/index.js??ref--6-2!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PovertyMap.vue?vue&type=style&index=0&id=531a0f7c&scoped=true&lang=css\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"outer\"},[_c('div',{staticClass:\"border-control\"},[_c('Dropdown',{staticStyle:{\"position\":\"relative\"},attrs:{\"trigger\":\"click\",\"placement\":\"bottom-start\"}},[_c('Tooltip',{attrs:{\"content\":\"边界\",\"placement\":\"right\"}},[_c('Button',{attrs:{\"icon\":\"ios-browsers\"}})],1),_vm._v(\" \"),_c('DropdownMenu',{staticStyle:{\"text-align\":\"left\",\"width\":\"130px\"},attrs:{\"slot\":\"list\"},slot:\"list\"},[_c('div',{staticStyle:{\"display\":\"flex\",\"flex-direction\":\"column\",\"padding\":\"10px\"}},[_c('Checkbox',{attrs:{\"label\":\"一级行政区边界\"},on:{\"on-change\":_vm.handleChangeFirstLevelCheckBox,\"onclick\":_vm.click}},[_vm._v(\"一级行政区边界\")]),_vm._v(\" \"),_c('Checkbox',{attrs:{\"label\":\"二级行政区边界\"},on:{\"on-change\":_vm.handleChangeSecondLevelCheckBox}},[_vm._v(\"二级行政区边界\")]),_vm._v(\" \"),_c('Checkbox',{attrs:{\"label\":\"三级行政区边界\"},on:{\"on-change\":_vm.handleChangeThirdLevelCheckBox}},[_vm._v(\"三级行政区边界\")])],1)])],1)],1),_vm._v(\" \"),_c('div',{attrs:{\"id\":\"map-container\"}})])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/ts-loader/index.js??ref--1-1!../../../../../node_modules/tslint-loader/index.js!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PovertyMap.vue?vue&type=script&lang=ts\"; export default mod; export * from \"-!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/ts-loader/index.js??ref--1-1!../../../../../node_modules/tslint-loader/index.js!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PovertyMap.vue?vue&type=script&lang=ts\"","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from 'vue';\nimport { Component, Emit, Prop, Watch } from 'vue-property-decorator';\nimport NominatimService from '../../../../services/nominatim.service';\nimport { Logger } from '../../../../services/Logger';\nimport mapboxgl from 'mapbox-gl';\nimport { ACCESS_TOKEN, CHINA_BOUNDS, CHINA_CENTER, HUBEI_BOUNDS } from '../../../../constants/mapbox';\nimport PlaceItem from '../../../../types/place-item';\nimport {Dropdown, Tooltip, DropdownMenu, Checkbox, Button} from 'iview';\n\n@Component({\n  components: {Dropdown, Tooltip, DropdownMenu, Checkbox, Button}\n})\nexport default class PovertyMap extends Vue {\n  private TAG = 'PovertyMap';\n  private FIRST_LEVEL_LAYER_ID = 'first-level';\n  private SECOND_LEVEL_LAYER_ID = 'second-level';\n  private THIRD_LEVEL_LAYER_ID = 'third-level';\n  private borderPaint = {\n    'line-color': 'rgba(255,255,255,0.5)',\n    'line-width': 2\n  };\n\n  // 行政区域划分图层\n  private firstLevelLayer: mapboxgl.Layer;\n  private secondLevelLayer: mapboxgl.Layer;\n  private thirdLevelLayer: mapboxgl.Layer;\n  private map: mapboxgl.Map;\n\n\n  // 基础地图源\n  @Prop({\n    default: () => 'mapbox://styles/mapbox/satellite-v9'\n  })\n  public mapUrl: string;\n\n\n  @Watch('mapUrl')\n  onMapUrlChange(val: string, oldVal: string) {\n    Logger.info(this.TAG, val, oldVal);\n    this.map.setStyle(val);\n  }\n\n  // data\n  public query: string;\n  public searchItems: PlaceItem[];\n\n  // services\n  private nominatimService: NominatimService;\n\n  constructor() {\n    super();\n    Logger.info(this.TAG, \"constructor\");\n    this.query = \"\";\n    this.searchItems = [];\n    this.nominatimService = new NominatimService();\n  }\n\n  mounted() {\n    Logger.info(this.TAG, \"mounted\");\n    this.initMap();\n  }\n\n  private initMap() {\n    Logger.info(this.TAG, \"start init map\");\n    mapboxgl.accessToken = ACCESS_TOKEN;\n    this.map = new mapboxgl.Map({\n      container: 'map-container',\n      style: this.mapUrl,\n      // center: CHINA_CENTER,\n      maxBounds: HUBEI_BOUNDS\n    });\n    // 增加控件\n    this.map.addControl(new mapboxgl.NavigationControl());\n    this.map.addControl(new mapboxgl.ScaleControl());\n    // 初始化完成\n    this.map.on(\"load\", () => {\n      this.onMapLoad(this.map);\n      // console.log(this.map.getZoom());\n    });\n  }\n\n  public click(){\n    console.log(\"hhhhh\")\n  }\n\n  /* 事件emit */\n  // 地图加载完成，返回一个 mapboxgl 地图对象\n  @Emit()\n  public onMapLoad(map: mapboxgl.Map) {}\n\n  /* 下面是事件处理 */\n\n  public handleChangeFirstLevelCheckBox(value) {\n    console.log(\"加载第一级\");\n    if (value) {\n      this.showFirstLevelBorder();\n    } else {\n      this.map.removeLayer(this.FIRST_LEVEL_LAYER_ID);\n    }\n  }\n\n  public handleChangeSecondLevelCheckBox(value) {\n    if (value) {\n      this.showSecondLevelBorder();\n    } else {\n      this.map.removeLayer(this.SECOND_LEVEL_LAYER_ID);\n    }\n  }\n\n  public handleChangeThirdLevelCheckBox(value) {\n    if (value) {\n      this.showThirdLevelBorder();\n    } else {\n      this.map.removeLayer(this.THIRD_LEVEL_LAYER_ID);\n      this.map.removeSource(this.FIRST_LEVEL_LAYER_ID);\n    }\n  }\n\n  public showFirstLevelBorder() {\n    Logger.info(this.TAG, \"show first level border\");\n    // 未加载过\n    if (!this.firstLevelLayer) {\n      this.map.addSource(this.FIRST_LEVEL_LAYER_ID, {\n        type: 'vector',\n        url: 'mapbox://vsr2018.78vj6bhk'\n      });\n      let layer: mapboxgl.Layer = {\n        id: this.FIRST_LEVEL_LAYER_ID,\n        type: \"line\",\n        source: this.FIRST_LEVEL_LAYER_ID,\n        'source-layer': 'first-6jawx0',\n        paint: this.borderPaint\n      };\n      this.firstLevelLayer = layer;\n    }\n    this.map.addLayer(this.firstLevelLayer);\n    this.map.on('sourcedata', this.FIRST_LEVEL_LAYER_ID, () => {\n      Logger.info(this.TAG, 'load layer');\n    })\n  }\n\n  public showSecondLevelBorder() {\n    Logger.info(this.TAG, \"showSecondLevelBorder\");\n    // 未加载过\n    if (!this.secondLevelLayer) {\n      this.map.addSource(this.SECOND_LEVEL_LAYER_ID, {\n        type: 'vector',\n        url: 'mapbox://vsr2018.050px5x2'\n      });\n      let layer: mapboxgl.Layer = {\n        id: this.SECOND_LEVEL_LAYER_ID,\n        type: \"line\",\n        source: this.SECOND_LEVEL_LAYER_ID,\n        paint: this.borderPaint,\n        'source-layer': 'second-dsvifq'\n      };\n      this.secondLevelLayer = layer;\n    }\n    this.map.addLayer(this.secondLevelLayer);\n  }\n\n  public showThirdLevelBorder() {\n    Logger.info(this.TAG, \"showThirdLevelBorder\");\n    // 未加载过\n    if (!this.thirdLevelLayer) {\n      this.map.addSource(this.THIRD_LEVEL_LAYER_ID, {\n        type: 'vector',\n        url: 'mapbox://vsr2018.5tz0fat5'\n      });\n      let layer: mapboxgl.Layer = {\n        id: this.THIRD_LEVEL_LAYER_ID,\n        type: \"line\",\n        source: this.THIRD_LEVEL_LAYER_ID,\n        paint: this.borderPaint,\n        'source-layer': 'third-dppmjz'\n      };\n      this.thirdLevelLayer = layer;\n    }\n    this.map.addLayer(this.thirdLevelLayer);\n  }\n}\n","import { render, staticRenderFns } from \"./PovertyMap.vue?vue&type=template&id=531a0f7c&scoped=true\"\nimport script from \"./PovertyMap.vue?vue&type=script&lang=ts\"\nexport * from \"./PovertyMap.vue?vue&type=script&lang=ts\"\nimport style0 from \"./PovertyMap.vue?vue&type=style&index=0&id=531a0f7c&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"531a0f7c\",\n  null\n  \n)\n\nexport default component.exports","import { Logger } from '@/services/Logger';\n\nexport default class Nomination {\n  async search(keyword: string): Promise<any> {\n    const url = `https://nominatim.openstreetmap.org/search?format=json&q=${decodeURIComponent(keyword)}`;\n    Logger.info(this, `start to fetch ${url}`);\n    try {\n      let res = await fetch(url);\n      res = await res.json();\n      Logger.info(this, 'fetch success', res);\n      return res;\n    } catch (e) {\n      Logger.error(this, 'fetch error', e);\n      throw e;\n    }\n  }\n}\n","import mod from \"-!../../../node_modules/extract-text-webpack-plugin/dist/loader.js??ref--6-0!../../../node_modules/vue-style-loader/index.js!../../../node_modules/css-loader/index.js??ref--6-2!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Try.vue?vue&type=style&index=0&lang=css\"; export default mod; export * from \"-!../../../node_modules/extract-text-webpack-plugin/dist/loader.js??ref--6-0!../../../node_modules/vue-style-loader/index.js!../../../node_modules/css-loader/index.js??ref--6-2!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Try.vue?vue&type=style&index=0&lang=css\""],"sourceRoot":""}