{"version":3,"sources":["webpack:///./src/components/common/map/poverty-map/PovertyMap.vue?3026","webpack:///./src/components/pages/Try.vue?765e","webpack:///./src/components/pages/Try.vue?5e49","webpack:///./src/components/pages/Try.vue?be0f","webpack:///./src/components/pages/Try.vue","webpack:///./node_modules/iview/src/directives/transfer-dom.js","webpack:///./src/services/Logger/index.ts","webpack:///./src/constants/mapbox.ts","webpack:///./node_modules/v-click-outside-x/dist/v-click-outside-x.min.js","webpack:///./src/components/common/map/poverty-map/PovertyMap.vue?52c2","webpack:///./src/components/common/map/poverty-map/PovertyMap.vue?1ce8","webpack:///./src/components/common/map/poverty-map/PovertyMap.vue?d051","webpack:///./src/components/common/map/poverty-map/PovertyMap.vue","webpack:///./src/services/nominatim.service.ts","webpack:///./node_modules/iview/src/components/base/popper.js","webpack:///./src/components/pages/Try.vue?5876"],"names":["a","2XyJ","e","t","n","r","o","i","s","c","l","Symbol","iterator","constructor","prototype","u","Object","setPrototypeOf","__proto__","Array","hasOwnProperty","this","create","pages_Tryvue_type_script_lang_ts","_super","Try","_this","apply","arguments","TAG","mapStyles","mapbox","d","urls","ids","index","__extends","handleSelect","Logger","info","handleOnMapLoad","map","handleChange","addSource","type","url","addLayer","id","source","source-layer","handleShow","animationService","showLayer","handleHide","hideLayer","handleAuto","autoDisplay","length","getOwnPropertyDescriptor","Reflect","decorate","defineProperty","__decorate","vue_property_decorator","components","PovertyMap","default","vue_runtime_esm","component","componentNormalizer","_vm","_h","$createElement","_c","_self","staticStyle","width","margin","on","on-map-load","_v","click","_l","_s","$event","__webpack_exports__","getTarget","node","document","body","window","Node","querySelector","directive","[object Object]","el","value","vnode","dataset","transfer","className","parentNode","home","createComment","hasMovedOut","replaceChild","appendChild","__transferDomData","target","ref$1","assign","replace","LdhC","tag","contents","_i","time","Date","toLocaleTimeString","console","_a","contents_1","item","log","concat","error","contents_2","contents_3","OK+q","__webpack_require__","tileSets","ACCESS_TOKEN","HUBEI_BOUNDS","night-light-2001","night-light-2013","hubeiDEM","hubeiGDP","hubeiSlope","hubieNightLight","REC_LAYER_ID","eFtz","global","self","Function","module","exports","call","m","enumerable","get","toStringTag","__esModule","bind","p","install","f","contains","binding","modifiers","stop","stopPropagation","prevent","preventDefault","keys","forEach","defineProperties","$_captureInstances","$_nonCaptureInstances","$_onCaptureEvent","$_onNonCaptureEvent","TypeError","arg","capture","isArray","push","addEventListener","unbind","filter","removeEventListener","h","v","y","poverty_map_PovertyMapvue_type_script_lang_ts","FIRST_LEVEL_LAYER_ID","SECOND_LEVEL_LAYER_ID","THIRD_LEVEL_LAYER_ID","borderPaint","line-color","line-width","firstLevelLayer","secondLevelLayer","thirdLevelLayer","firstCheck","secondCheck","thirdCheck","query","searchItems","nominatimService","nominatim_service","onMapUrlChange","val","oldVal","setStyle","mounted","initMap","mapbox_gl_default","accessToken","Map","container","style","mapUrl","maxBounds","b","addControl","NavigationControl","ScaleControl","$emit","handleChangeFirstLevelCheckBox","showFirstLevelBorder","removeLayer","handleChangeSecondLevelCheckBox","showSecondLevelBorder","handleChangeThirdLevelCheckBox","showThirdLevelBorder","layer","paint","Dropdown","dropdown","Tooltip","tooltip","DropdownMenu","dropdown_menu","Button","components_button","_","staticClass","position","attrs","trigger","placement","content","icon","text-align","slot","display","flex-direction","padding","for","Nomination","search","keyword","decodeURIComponent","_services_Logger__WEBPACK_IMPORTED_MODULE_0__","trys","fetch","res","sent","json","e_1","oBAn","isServer","$isServer","Popper","props","String","boundariesPadding","Number","reference","popper","offset","Boolean","transition","options","computeStyle","gpuAcceleration","preventOverflow","boundariesElement","visible","watch","immediate","updatePopper","methods","test","$refs","popperJS","destroy","onCreate","$nextTick","update","createPopper"],"mappings":"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","file":"static/js/5.c93f96d786903d5ba90d.js","sourcesContent":["import mod from \"-!../../../../../node_modules/extract-text-webpack-plugin/dist/loader.js??ref--6-0!../../../../../node_modules/vue-style-loader/index.js!../../../../../node_modules/css-loader/index.js??ref--6-2!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PovertyMap.vue?vue&type=style&index=0&id=2dc315ac&scoped=true&lang=css\"; export default mod; export * from \"-!../../../../../node_modules/extract-text-webpack-plugin/dist/loader.js??ref--6-0!../../../../../node_modules/vue-style-loader/index.js!../../../../../node_modules/css-loader/index.js??ref--6-2!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PovertyMap.vue?vue&type=style&index=0&id=2dc315ac&scoped=true&lang=css\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticStyle:{\"width\":\"80%\",\"margin\":\"auto\"}},[_c('poverty-map',{on:{\"on-map-load\":_vm.handleOnMapLoad}}),_vm._v(\" \"),_c('Button',{on:{\"click\":_vm.handleChange}},[_vm._v(\"change\")]),_vm._v(\" \"),_c('Button',{on:{\"click\":_vm.handleHide}},[_vm._v(\"hide\")]),_vm._v(\" \"),_c('ol',_vm._l((_vm.ids),function(id){return _c('li',[_vm._v(\"\\n            \"+_vm._s(id)+\"\\n            \"),_c('Button',{on:{\"click\":function($event){_vm.handleShow(id)}}},[_vm._v(\"显示\")])],1)})),_vm._v(\" \"),_c('Button',{on:{\"click\":_vm.handleAuto}},[_vm._v(\"Auto\")])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--1-1!../../../node_modules/tslint-loader/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Try.vue?vue&type=script&lang=ts\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--1-1!../../../node_modules/tslint-loader/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Try.vue?vue&type=script&lang=ts\"","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from 'vue';\nimport PovertyMap from '../common/map/poverty-map/PovertyMap.vue';\nimport { Component } from 'vue-property-decorator';\n// import MapQueryComponent from '../map/MapQueryComponent.vue';\nimport { mapStyles } from '../../constants/mapbox';\nimport { MapSourceAnimationService } from '../../services/map-source-animation.service';\nimport { Logger } from '../../services/Logger';\n\n@Component({\n  components: {\n    PovertyMap\n  }\n})\nexport default class Try extends Vue {\n  private TAG = 'Try.vue';\n  private mapStyles = mapStyles;\n  private map: mapboxgl.Map;\n  private animationService: MapSourceAnimationService;\n  private id: string;\n\n  urls = ['mapbox://wenxiangdong.0u7nbzi0', 'mapbox://wenxiangdong.dhr5yy3g'];\n  ids = [];\n\n  index = 'night-light-2013';\n\n  handleSelect(n) {\n    Logger.info(this.TAG, n);\n  }\n\n  handleOnMapLoad(map: mapboxgl.Map) {\n    Logger.info(this.TAG, 'map loaded', map);\n    this.map = map;\n  }\n  handleChange() {\n    Logger.info(this.TAG, 'change');\n    // let url = 'mapbox://wenxiangdong.dhr5yy3g';\n    this.map.addSource('hubei', {\n      type: 'raster',\n      url: 'mapbox://vsr2018.2g41qcaf'\n    });\n    this.map.addLayer({\n      id: 'hubei',\n      type: 'raster',\n      source: 'hubei',\n      'source-layer': '1-6zujon'\n    });\n\n  }\n  handleShow(id) {\n    Logger.info(this.TAG, id);\n    this.animationService.showLayer(id);\n  }\n  handleHide() {\n    if (!this.animationService) return;\n    this.animationService.hideLayer(this.id);\n  }\n\n  handleAuto() {\n    this.animationService.autoDisplay();\n  }\n}\n","import { render, staticRenderFns } from \"./Try.vue?vue&type=template&id=b39d9fe4\"\nimport script from \"./Try.vue?vue&type=script&lang=ts\"\nexport * from \"./Try.vue?vue&type=script&lang=ts\"\nimport style0 from \"./Try.vue?vue&type=style&index=0&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","// Thanks to: https://github.com/airyland/vux/blob/v2/src/directives/transfer-dom/index.js\n// Thanks to: https://github.com/calebroseland/vue-dom-portal\n\n/**\n * Get target DOM Node\n * @param {(Node|string|Boolean)} [node=document.body] DOM Node, CSS selector, or Boolean\n * @return {Node} The target that the el will be appended to\n */\nfunction getTarget (node) {\n    if (node === void 0) {\n        node = document.body\n    }\n    if (node === true) { return document.body }\n    return node instanceof window.Node ? node : document.querySelector(node)\n}\n\nconst directive = {\n    inserted (el, { value }, vnode) {\n        if ( el.dataset && el.dataset.transfer !== 'true') return false;\n        el.className = el.className ? el.className + ' v-transfer-dom' : 'v-transfer-dom';\n        const parentNode = el.parentNode;\n        if (!parentNode) return;\n        const home = document.createComment('');\n        let hasMovedOut = false;\n\n        if (value !== false) {\n            parentNode.replaceChild(home, el); // moving out, el is no longer in the document\n            getTarget(value).appendChild(el); // moving into new place\n            hasMovedOut = true\n        }\n        if (!el.__transferDomData) {\n            el.__transferDomData = {\n                parentNode: parentNode,\n                home: home,\n                target: getTarget(value),\n                hasMovedOut: hasMovedOut\n            }\n        }\n    },\n    componentUpdated (el, { value }) {\n        if ( el.dataset && el.dataset.transfer !== 'true') return false;\n        // need to make sure children are done updating (vs. `update`)\n        const ref$1 = el.__transferDomData;\n        if (!ref$1) return;\n        // homes.get(el)\n        const parentNode = ref$1.parentNode;\n        const home = ref$1.home;\n        const hasMovedOut = ref$1.hasMovedOut; // recall where home is\n\n        if (!hasMovedOut && value) {\n            // remove from document and leave placeholder\n            parentNode.replaceChild(home, el);\n            // append to target\n            getTarget(value).appendChild(el);\n            el.__transferDomData = Object.assign({}, el.__transferDomData, { hasMovedOut: true, target: getTarget(value) });\n        } else if (hasMovedOut && value === false) {\n            // previously moved, coming back home\n            parentNode.replaceChild(el, home);\n            el.__transferDomData = Object.assign({}, el.__transferDomData, { hasMovedOut: false, target: getTarget(value) });\n        } else if (value) {\n            // already moved, going somewhere else\n            getTarget(value).appendChild(el);\n        }\n    },\n    unbind (el) {\n        if (el.dataset && el.dataset.transfer !== 'true') return false;\n        el.className = el.className.replace('v-transfer-dom', '');\n        const ref$1 = el.__transferDomData;\n        if (!ref$1) return;\n        if (el.__transferDomData.hasMovedOut === true) {\n            el.__transferDomData.parentNode && el.__transferDomData.parentNode.appendChild(el)\n        }\n        el.__transferDomData = null\n    }\n};\n\nexport default directive;","/*\n日志类\n */\nexport class Logger {\n  private instance: Logger;\n\n  static info(tag, ...contents): void {\n    let time = new Date().toLocaleTimeString();\n    if (console.info) {\n      console.info(`At ${time} in 【${tag}】`);\n      for (let item of contents) {\n        console.info(item);\n      }\n      console.log('-------------------------------');\n    } else {\n      Logger.log(tag, ...contents);\n    }\n  }\n\n  static error(tag, ...contents): void {\n    let time = new Date().toLocaleTimeString();\n    if (console.error) {\n      console.error(`At ${time} in ${tag}`);\n      for (let item of contents) {\n        console.error(item);\n      }\n    } else {\n      Logger.log(tag, ...contents);\n    }\n  }\n\n  static log(tag, ...contents): void {\n    let time = new Date().toLocaleTimeString();\n    console.log(`At ${time} in ${tag}`);\n    for (let item of contents) {\n      console.log(item);\n    }\n  }\n}\n","const ACCESS_TOKEN = 'pk.eyJ1Ijoid2VueGlhbmdkb25nIiwiYSI6ImNqajEyN2owYjBvNHYzdm10c2p2NXowM2kifQ.kixIr8Jwk2mAqmlQCWW88Q';\nconst CHINA_BOUNDS = [[70, 17], [140, 55]];\n// 108.3,29.0,116.3,33.3\nconst HUBEI_BOUNDS =[[108.3,29.0],[116.3,33.3]];\n\nconst CHINA_CENTER = [104.999927, 35.000074];\nlet mapStyles = {\n  'night-light-2001': 'mapbox://styles/wenxiangdong/cjjuyolqw21sf2rmmrrp13azv',\n  'night-light-2013': 'mapbox://styles/wenxiangdong/cjjuzjzid0a1a2ro45v4abumf'\n};\n\nlet tileSets = {\n  'hubeiDEM': 'mapbox://wenxiangdong.6mjehw01',\n  'hubeiGDP': 'mapbox://wenxiangdong.aa00vskv',\n  'hubeiSlope': 'mapbox://wenxiangdong.9vwvp9tc',\n  'hubieNightLight': 'mapbox://wenxiangdong.527q7f2p'\n};\nconst REC_LAYER_ID = 'rec-layer-id';\nconst LINE_LAYER_ID = 'line-layer-id';\nexport { ACCESS_TOKEN, CHINA_BOUNDS, CHINA_CENTER, mapStyles, REC_LAYER_ID, LINE_LAYER_ID, HUBEI_BOUNDS, tileSets };\n","!function(e,t){\"object\"==typeof exports&&\"object\"==typeof module?module.exports=t():\"function\"==typeof define&&define.amd?define([],t):\"object\"==typeof exports?exports.vClickOutside=t():e.vClickOutside=t()}(function(){\"use strict\";return\"undefined\"!=typeof self?self:\"undefined\"!=typeof window?window:\"undefined\"!=typeof global?global:Function(\"return this\")()}(),function(){return function(e){var t={};function n(o){if(t[o])return t[o].exports;var r=t[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&\"object\"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,\"default\",{enumerable:!0,value:e}),2&t&&\"string\"!=typeof e)for(var r in e)n.d(o,r,function(t){return e[t]}.bind(null,r));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,\"a\",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p=\"\",n(n.s=0)}([function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var o=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e},r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e};t.install=function(e){e.directive(\"click-outside\",p)};var u=Object.create(null),i=Object.create(null),f=[u,i],c=function(e,t,n){var o=n.target,r=function(t){var r=t.el;if(r!==o&&!r.contains(o)){var u=t.binding;u.modifiers.stop&&n.stopPropagation(),u.modifiers.prevent&&n.preventDefault(),u.value.call(e,n)}};Object.keys(t).forEach(function(e){return t[e].forEach(r)})},a=function(e){c(this,u,e)},l=function(e){c(this,i,e)},d=function(e){return e?a:l},p=t.directive=Object.defineProperties({},{$_captureInstances:{value:u},$_nonCaptureInstances:{value:i},$_onCaptureEvent:{value:a},$_onNonCaptureEvent:{value:l},bind:{value:function(e,t){if(\"function\"!=typeof t.value)throw new TypeError(\"Binding value must be a function.\");var n=t.arg||\"click\",f=r({},t,{arg:n,modifiers:r({capture:!1,prevent:!1,stop:!1},t.modifiers)}),c=f.modifiers.capture,a=c?u:i;Array.isArray(a[n])||(a[n]=[]),1===a[n].push({el:e,binding:f})&&\"object\"===(\"undefined\"==typeof document?\"undefined\":o(document))&&document&&document.addEventListener(n,d(c),c)}},unbind:{value:function(e){var t=function(t){return t.el!==e};f.forEach(function(e){var n=Object.keys(e);if(n.length){var r=e===u;n.forEach(function(n){var u=e[n].filter(t);u.length?e[n]=u:(\"object\"===(\"undefined\"==typeof document?\"undefined\":o(document))&&document&&document.removeEventListener(n,d(r),r),delete e[n])})}})}}})}])});\n//# sourceMappingURL=v-click-outside-x.min.js.map","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"outer\"},[_c('div',{staticClass:\"border-control\"},[_c('Dropdown',{staticStyle:{\"position\":\"relative\"},attrs:{\"trigger\":\"click\",\"placement\":\"bottom-start\"}},[_c('Tooltip',{attrs:{\"content\":\"边界\",\"placement\":\"right\"}},[_c('Button',{attrs:{\"icon\":\"ios-browsers\"}})],1),_vm._v(\" \"),_c('DropdownMenu',{staticStyle:{\"text-align\":\"left\",\"width\":\"130px\"},attrs:{\"slot\":\"list\"},slot:\"list\"},[_c('div',{staticStyle:{\"display\":\"flex\",\"flex-direction\":\"column\",\"padding\":\"10px\"}},[_c('div',[_c('input',{attrs:{\"type\":\"checkbox\",\"id\":\"first\"},on:{\"click\":_vm.handleChangeFirstLevelCheckBox}}),_vm._v(\" \"),_c('label',{attrs:{\"for\":\"first\"}},[_vm._v(\"一级行政区边界\")])]),_vm._v(\" \"),_c('div',[_c('input',{attrs:{\"type\":\"checkbox\",\"id\":\"second\"},on:{\"click\":_vm.handleChangeSecondLevelCheckBox}}),_vm._v(\" \"),_c('label',{attrs:{\"for\":\"second\"}},[_vm._v(\"二级行政区边界\")])]),_vm._v(\" \"),_c('div',[_c('input',{attrs:{\"type\":\"checkbox\",\"id\":\"third\"},on:{\"click\":_vm.handleChangeThirdLevelCheckBox}}),_vm._v(\" \"),_c('label',{attrs:{\"for\":\"third\"}},[_vm._v(\"三级行政区边界\")]),_vm._v(\" \"),_c('Button',{on:{\"click\":_vm.handleChangeFirstLevelCheckBox}})],1)])])],1)],1),_vm._v(\" \"),_c('div',{attrs:{\"id\":\"map-container\"}})])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/ts-loader/index.js??ref--1-1!../../../../../node_modules/tslint-loader/index.js!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PovertyMap.vue?vue&type=script&lang=ts\"; export default mod; export * from \"-!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/ts-loader/index.js??ref--1-1!../../../../../node_modules/tslint-loader/index.js!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PovertyMap.vue?vue&type=script&lang=ts\"","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from 'vue';\ndeclare var require : (filename,resolve)=>any;\nimport { Component, Emit, Prop, Watch } from 'vue-property-decorator';\nimport NominatimService from '../../../../services/nominatim.service';\nimport { Logger } from '../../../../services/Logger';\nimport mapboxgl from 'mapbox-gl';\n// const mapboxgl = (a) => require('mapbox-gl.js',a);\nimport { ACCESS_TOKEN, CHINA_BOUNDS, CHINA_CENTER, HUBEI_BOUNDS } from '../../../../constants/mapbox';\nimport PlaceItem from '../../../../types/place-item';\nimport {Dropdown, Tooltip, DropdownMenu, Button} from 'iview';\n\n@Component({\n  components: {Dropdown, Tooltip, DropdownMenu, Button}\n})\nexport default class PovertyMap extends Vue {\n  private TAG = 'PovertyMap';\n  private FIRST_LEVEL_LAYER_ID = 'first-level';\n  private SECOND_LEVEL_LAYER_ID = 'second-level';\n  private THIRD_LEVEL_LAYER_ID = 'third-level';\n  private borderPaint = {\n    'line-color': 'rgba(255,255,255,0.5)',\n    'line-width': 2\n  };\n\n  // 行政区域划分图层\n  private firstLevelLayer: mapboxgl.Layer = undefined;\n  private secondLevelLayer: mapboxgl.Layer = undefined;\n  private thirdLevelLayer: mapboxgl.Layer = undefined;\n  private map: mapboxgl.Map;\n\n  public firstCheck = false;\n  public secondCheck = false;\n  public thirdCheck = false;\n\n\n  // 基础地图源\n  @Prop({\n    default: () => 'mapbox://styles/mapbox/satellite-v9'\n  })\n  public mapUrl: string;\n\n\n  @Watch('mapUrl')\n  onMapUrlChange(val: string, oldVal: string) {\n    Logger.info(this.TAG, val, oldVal);\n    this.map.setStyle(val);\n  }\n\n  // data\n  public query: string;\n  public searchItems: PlaceItem[];\n\n  // services\n  private nominatimService: NominatimService;\n\n  constructor() {\n    super();\n    Logger.info(this.TAG, \"constructor\");\n    this.query = \"\";\n    this.searchItems = [];\n    this.nominatimService = new NominatimService();\n  }\n\n  mounted() {\n    Logger.info(this.TAG, \"mounted\");\n    this.firstLevelLayer = undefined;\n    this.initMap();\n  }\n\n  private initMap() {\n    Logger.info(this.TAG, \"start init map\");\n    mapboxgl.accessToken = ACCESS_TOKEN;\n    this.map = new mapboxgl.Map({\n      container: 'map-container',\n      style: this.mapUrl,\n      // center: CHINA_CENTER,\n      maxBounds: HUBEI_BOUNDS\n    });\n    // 增加控件\n    this.map.addControl(new mapboxgl.NavigationControl());\n    this.map.addControl(new mapboxgl.ScaleControl());\n    // 初始化完成\n    this.map.on(\"load\", () => {\n      this.$emit('on-map-load', this.map);\n      // console.log(this.map.getZoom());\n    });\n  }\n\n  public click(){\n    console.log(\"hhhhh\")\n  }\n\n  /* 下面是事件处理 */\n\n\n  public handleChangeFirstLevelCheckBox() {\n    console.log(\"here\");\n    this.firstCheck = !this.firstCheck;\n    if (this.firstCheck) {\n      this.showFirstLevelBorder();\n    } else {\n      this.map.removeLayer(this.FIRST_LEVEL_LAYER_ID);\n    }\n  }\n\n  public handleChangeSecondLevelCheckBox() {\n    this.secondCheck = !this.secondCheck;\n    if (this.secondCheck) {\n      this.showSecondLevelBorder();\n    } else {\n      this.map.removeLayer(this.SECOND_LEVEL_LAYER_ID);\n    }\n  }\n\n  public handleChangeThirdLevelCheckBox() {\n    this.thirdCheck = !this.thirdCheck;\n    if (this.thirdCheck) {\n      this.showThirdLevelBorder();\n    } else {\n      this.map.removeLayer(this.THIRD_LEVEL_LAYER_ID);\n    }\n  }\n\n  public showFirstLevelBorder() {\n    Logger.info(this.TAG, \"show first level border\");\n    // 未加载过\n    if (!this.firstLevelLayer) {\n      console.log(\"add first\");\n      this.map.addSource(this.FIRST_LEVEL_LAYER_ID, {\n        type: 'vector',\n        url: 'mapbox://vsr2018.78vj6bhk'\n      });\n      let layer: mapboxgl.Layer = {\n        id: this.FIRST_LEVEL_LAYER_ID,\n        type: \"line\",\n        source: this.FIRST_LEVEL_LAYER_ID,\n        'source-layer': 'first-6jawx0',\n        paint: this.borderPaint\n      };\n      this.firstLevelLayer = layer;\n    }\n    this.map.addLayer(this.firstLevelLayer);\n    this.map.on('sourcedata', this.FIRST_LEVEL_LAYER_ID, () => {\n      Logger.info(this.TAG, 'load layer');\n    })\n  }\n\n  public showSecondLevelBorder() {\n    Logger.info(this.TAG, \"showSecondLevelBorder\");\n    // 未加载过\n    if (!this.secondLevelLayer) {\n      this.map.addSource(this.SECOND_LEVEL_LAYER_ID, {\n        type: 'vector',\n        url: 'mapbox://vsr2018.050px5x2'\n      });\n      let layer: mapboxgl.Layer = {\n        id: this.SECOND_LEVEL_LAYER_ID,\n        type: \"line\",\n        source: this.SECOND_LEVEL_LAYER_ID,\n        paint: this.borderPaint,\n        'source-layer': 'second-dsvifq'\n      };\n      this.secondLevelLayer = layer;\n    }\n    this.map.addLayer(this.secondLevelLayer);\n  }\n\n  public showThirdLevelBorder() {\n    Logger.info(this.TAG, \"showThirdLevelBorder\");\n    // 未加载过\n    if (!this.thirdLevelLayer) {\n      this.map.addSource(this.THIRD_LEVEL_LAYER_ID, {\n        type: 'vector',\n        url: 'mapbox://vsr2018.5tz0fat5'\n      });\n      let layer: mapboxgl.Layer = {\n        id: this.THIRD_LEVEL_LAYER_ID,\n        type: \"line\",\n        source: this.THIRD_LEVEL_LAYER_ID,\n        paint: this.borderPaint,\n        'source-layer': 'third-dppmjz'\n      };\n      this.thirdLevelLayer = layer;\n    }\n    this.map.addLayer(this.thirdLevelLayer);\n  }\n}\n","import { render, staticRenderFns } from \"./PovertyMap.vue?vue&type=template&id=2dc315ac&scoped=true\"\nimport script from \"./PovertyMap.vue?vue&type=script&lang=ts\"\nexport * from \"./PovertyMap.vue?vue&type=script&lang=ts\"\nimport style0 from \"./PovertyMap.vue?vue&type=style&index=0&id=2dc315ac&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2dc315ac\",\n  null\n  \n)\n\nexport default component.exports","import { Logger } from '@/services/Logger';\n\nexport default class Nomination {\n  async search(keyword: string): Promise<any> {\n    const url = `https://nominatim.openstreetmap.org/search?format=json&q=${decodeURIComponent(keyword)}`;\n    Logger.info(this, `start to fetch ${url}`);\n    try {\n      let res = await fetch(url);\n      res = await res.json();\n      Logger.info(this, 'fetch success', res);\n      return res;\n    } catch (e) {\n      Logger.error(this, 'fetch error', e);\n      throw e;\n    }\n  }\n}\n","/**\n * https://github.com/freeze-component/vue-popper\n * */\nimport Vue from 'vue';\nconst isServer = Vue.prototype.$isServer;\nconst Popper = isServer ? function() {} : require('popper.js/dist/umd/popper.js');  // eslint-disable-line\n\nexport default {\n    props: {\n        placement: {\n            type: String,\n            default: 'bottom'\n        },\n        boundariesPadding: {\n            type: Number,\n            default: 5\n        },\n        reference: Object,\n        popper: Object,\n        offset: {\n            default: 0\n        },\n        value: {\n            type: Boolean,\n            default: false\n        },\n        transition: String,\n        options: {\n            type: Object,\n            default () {\n                return {\n                    modifiers: {\n                        computeStyle:{\n                            gpuAcceleration: false,\n                        },\n                        preventOverflow :{\n                            boundariesElement: 'window'\n                        }\n                    }\n                };\n            }\n        },\n        // visible: {\n        //     type: Boolean,\n        //     default: false\n        // }\n    },\n    data () {\n        return {\n            visible: this.value\n        };\n    },\n    watch: {\n        value: {\n            immediate: true,\n            handler(val) {\n                this.visible = val;\n                this.$emit('input', val);\n            }\n        },\n        visible(val) {\n            if (val) {\n                this.updatePopper();\n                this.$emit('on-popper-show');\n            } else {\n                this.$emit('on-popper-hide');\n            }\n            this.$emit('input', val);\n        }\n    },\n    methods: {\n        createPopper() {\n            if (isServer) return;\n            if (!/^(top|bottom|left|right)(-start|-end)?$/g.test(this.placement)) {\n                return;\n            }\n\n            const options = this.options;\n            const popper = this.popper || this.$refs.popper;\n            const reference = this.reference || this.$refs.reference;\n\n            if (!popper || !reference) return;\n\n            if (this.popperJS && this.popperJS.hasOwnProperty('destroy')) {\n                this.popperJS.destroy();\n            }\n\n            options.placement = this.placement;\n\n            if (!options.modifiers.offset) {\n                options.modifiers.offset = {};\n            }\n            options.modifiers.offset.offset = this.offset;\n            options.onCreate =()=>{\n                this.$nextTick(this.updatePopper);\n                this.$emit('created', this);\n            };\n\n            this.popperJS = new Popper(reference, popper, options);\n\n        },\n        updatePopper() {\n            if (isServer) return;\n            this.popperJS ? this.popperJS.update() : this.createPopper();\n        },\n        doDestroy() {\n            if (isServer) return;\n            if (this.visible) return;\n            this.popperJS.destroy();\n            this.popperJS = null;\n        }\n    },\n    updated (){\n        this.$nextTick(()=>this.updatePopper());\n\n    },\n    beforeDestroy() {\n        if (isServer) return;\n        if (this.popperJS) {\n            this.popperJS.destroy();\n        }\n    }\n};\n","import mod from \"-!../../../node_modules/extract-text-webpack-plugin/dist/loader.js??ref--6-0!../../../node_modules/vue-style-loader/index.js!../../../node_modules/css-loader/index.js??ref--6-2!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Try.vue?vue&type=style&index=0&lang=css\"; export default mod; export * from \"-!../../../node_modules/extract-text-webpack-plugin/dist/loader.js??ref--6-0!../../../node_modules/vue-style-loader/index.js!../../../node_modules/css-loader/index.js??ref--6-2!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Try.vue?vue&type=style&index=0&lang=css\""],"sourceRoot":""}