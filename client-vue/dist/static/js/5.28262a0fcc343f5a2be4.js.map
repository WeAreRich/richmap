{"version":3,"sources":["webpack:///./src/components/pages/Try.vue?765e","webpack:///./src/components/pages/Try.vue?5e49","webpack:///./src/components/pages/Try.vue?be0f","webpack:///./src/components/pages/Try.vue","webpack:///./src/components/pages/Try.vue?d4fa","webpack:///./src/components/common/map/poverty-map/PovertyMap.vue?d2ea","webpack:///./src/components/pages/Try.vue?9c53","webpack:///./src/services/Logger/index.ts","webpack:///./src/constants/mapbox.ts","webpack:///./src/components/common/map/poverty-map/PovertyMap.vue?b318","webpack:///./src/components/common/map/poverty-map/PovertyMap.vue?8645","webpack:///./src/components/common/map/poverty-map/PovertyMap.vue?1382","webpack:///./src/components/common/map/poverty-map/PovertyMap.vue?1ce8","webpack:///./src/components/common/map/poverty-map/PovertyMap.vue?d051","webpack:///./src/components/common/map/poverty-map/PovertyMap.vue","webpack:///./src/services/nominatim.service.ts","webpack:///./src/components/pages/Try.vue?5876"],"names":["o","r","t","i","a","s","l","c","Symbol","iterator","e","constructor","prototype","p","Object","setPrototypeOf","__proto__","Array","n","hasOwnProperty","this","create","pages_Tryvue_type_script_lang_ts","_super","Try","_this","apply","arguments","TAG","mapStyles","mapbox","d","urls","ids","index","__extends","handleSelect","Logger","info","handleOnMapLoad","map","handleChange","addSource","type","url","addLayer","id","source","source-layer","handleShow","animationService","showLayer","handleHide","hideLayer","handleAuto","autoDisplay","length","getOwnPropertyDescriptor","Reflect","decorate","defineProperty","__decorate","vue_property_decorator","components","PovertyMap","vue_runtime_esm","default","u","component","componentNormalizer","_vm","_h","$createElement","_c","_self","staticStyle","width","margin","on","on-map-load","_v","click","_l","_s","$event","__webpack_exports__","content","__webpack_require__","module","locals","exports","4spQ","559u","push","version","sources","names","mappings","file","sourceRoot","LdhC","tag","contents","_i","Date","toLocaleTimeString","console","_a","contents_1","log","concat","error","contents_2","contents_3","OK+q","tileSets","ACCESS_TOKEN","HUBEI_BOUNDS","night-light-2001","night-light-2013","hubeiDEM","hubeiGDP","hubeiSlope","hubieNightLight","REC_LAYER_ID","OLCW","heDD","sourcesContent","iFuS","h","f","m","v","L","y","poverty_map_PovertyMapvue_type_script_lang_ts","call","FIRST_LEVEL_LAYER_ID","SECOND_LEVEL_LAYER_ID","THIRD_LEVEL_LAYER_ID","borderPaint","line-color","line-width","query","searchItems","nominatimService","nominatim_service","onMapUrlChange","val","oldVal","setStyle","mounted","initMap","mapbox_gl_default","accessToken","Map","container","style","mapUrl","maxBounds","b","addControl","NavigationControl","ScaleControl","onMapLoad","handleChangeFirstLevelCheckBox","value","showFirstLevelBorder","removeLayer","handleChangeSecondLevelCheckBox","showSecondLevelBorder","handleChangeThirdLevelCheckBox","showThirdLevelBorder","removeSource","firstLevelLayer","layer","paint","secondLevelLayer","thirdLevelLayer","Dropdown","dropdown","Tooltip","tooltip","DropdownMenu","dropdown_menu","Checkbox","components_checkbox","Button","components_button","g","staticClass","position","attrs","trigger","placement","icon","text-align","slot","display","flex-direction","padding","label","on-change","Nomination","search","keyword","decodeURIComponent","_services_Logger__WEBPACK_IMPORTED_MODULE_0__","trys","fetch","res","sent","json","e_1","ymnH"],"mappings":"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","file":"static/js/5.28262a0fcc343f5a2be4.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticStyle:{\"width\":\"80%\",\"margin\":\"auto\"}},[_c('poverty-map',{on:{\"on-map-load\":_vm.handleOnMapLoad}}),_vm._v(\" \"),_c('Button',{on:{\"click\":_vm.handleChange}},[_vm._v(\"change\")]),_vm._v(\" \"),_c('Button',{on:{\"click\":_vm.handleHide}},[_vm._v(\"hide\")]),_vm._v(\" \"),_c('ol',_vm._l((_vm.ids),function(id){return _c('li',[_vm._v(\"\\n            \"+_vm._s(id)+\"\\n            \"),_c('Button',{on:{\"click\":function($event){_vm.handleShow(id)}}},[_vm._v(\"显示\")])],1)})),_vm._v(\" \"),_c('Button',{on:{\"click\":_vm.handleAuto}},[_vm._v(\"Auto\")])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--1-1!../../../node_modules/tslint-loader/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Try.vue?vue&type=script&lang=ts\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--1-1!../../../node_modules/tslint-loader/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Try.vue?vue&type=script&lang=ts\"","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from 'vue';\nimport PovertyMap from '../common/map/poverty-map/PovertyMap.vue';\nimport { Component } from 'vue-property-decorator';\n// import MapQueryComponent from '../map/MapQueryComponent.vue';\nimport { mapStyles } from '../../constants/mapbox';\nimport { MapSourceAnimationService } from '../../services/map-source-animation.service';\nimport { Logger } from '../../services/Logger';\n\n@Component({\n  components: {\n    PovertyMap\n  }\n})\nexport default class Try extends Vue {\n  private TAG = 'Try.vue';\n  private mapStyles = mapStyles;\n  private map: mapboxgl.Map;\n  private animationService: MapSourceAnimationService;\n  private id: string;\n\n  urls = ['mapbox://wenxiangdong.0u7nbzi0', 'mapbox://wenxiangdong.dhr5yy3g'];\n  ids = [];\n\n  index = 'night-light-2013';\n\n  handleSelect(n) {\n    Logger.info(this.TAG, n);\n  }\n\n  handleOnMapLoad(map: mapboxgl.Map) {\n    Logger.info(this.TAG, 'map loaded', map);\n    this.map = map;\n  }\n  handleChange() {\n    Logger.info(this.TAG, 'change');\n    // let url = 'mapbox://wenxiangdong.dhr5yy3g';\n    this.map.addSource('hubei', {\n      type: 'raster',\n      url: 'mapbox://vsr2018.2g41qcaf'\n    });\n    this.map.addLayer({\n      id: 'hubei',\n      type: 'raster',\n      source: 'hubei',\n      'source-layer': '1-6zujon'\n    });\n\n  }\n  handleShow(id) {\n    Logger.info(this.TAG, id);\n    this.animationService.showLayer(id);\n  }\n  handleHide() {\n    if (!this.animationService) return;\n    this.animationService.hideLayer(this.id);\n  }\n\n  handleAuto() {\n    this.animationService.autoDisplay();\n  }\n}\n","import { render, staticRenderFns } from \"./Try.vue?vue&type=template&id=b39d9fe4\"\nimport script from \"./Try.vue?vue&type=script&lang=ts\"\nexport * from \"./Try.vue?vue&type=script&lang=ts\"\nimport style0 from \"./Try.vue?vue&type=style&index=0&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/css-loader/index.js??ref--6-2!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Try.vue?vue&type=style&index=0&lang=css\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = require(\"!../../../node_modules/vue-style-loader/lib/addStylesClient.js\")(\"2ade9984\", content, true, {});","import mod from \"-!../../../../../node_modules/extract-text-webpack-plugin/dist/loader.js??ref--6-0!../../../../../node_modules/vue-style-loader/index.js!../../../../../node_modules/css-loader/index.js??ref--6-2!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PovertyMap.vue?vue&type=style&index=0&id=104067d7&scoped=true&lang=css\"; export default mod; export * from \"-!../../../../../node_modules/extract-text-webpack-plugin/dist/loader.js??ref--6-0!../../../../../node_modules/vue-style-loader/index.js!../../../../../node_modules/css-loader/index.js??ref--6-2!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PovertyMap.vue?vue&type=style&index=0&id=104067d7&scoped=true&lang=css\"","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")(true);\n// imports\n\n\n// module\nexports.push([module.id, \"\", \"\", {\"version\":3,\"sources\":[],\"names\":[],\"mappings\":\"\",\"file\":\"Try.vue?vue&type=style&index=0&lang=css\",\"sourceRoot\":\"\"}]);\n\n// exports\n","/*\n日志类\n */\nexport class Logger {\n  private instance: Logger;\n\n  static info(tag, ...contents): void {\n    let time = new Date().toLocaleTimeString();\n    if (console.info) {\n      console.info(`At ${time} in ${tag}`);\n      for (let item of contents) {\n        console.info(item);\n      }\n    } else {\n      Logger.log(tag, ...contents);\n    }\n  }\n\n  static error(tag, ...contents): void {\n    let time = new Date().toLocaleTimeString();\n    if (console.error) {\n      console.error(`At ${time} in ${tag}`);\n      for (let item of contents) {\n        console.error(item);\n      }\n    } else {\n      Logger.log(tag, ...contents);\n    }\n  }\n\n  static log(tag, ...contents): void {\n    let time = new Date().toLocaleTimeString();\n    console.log(`At ${time} in ${tag}`);\n    for (let item of contents) {\n      console.log(item);\n    }\n  }\n}\n","const ACCESS_TOKEN = 'pk.eyJ1Ijoid2VueGlhbmdkb25nIiwiYSI6ImNqajEyN2owYjBvNHYzdm10c2p2NXowM2kifQ.kixIr8Jwk2mAqmlQCWW88Q';\nconst CHINA_BOUNDS = [[70, 17], [140, 55]];\n// 108.3,29.0,116.3,33.3\nconst HUBEI_BOUNDS =[[108.3,29.0],[116.3,33.3]];\n\nconst CHINA_CENTER = [104.999927, 35.000074];\nlet mapStyles = {\n  'night-light-2001': 'mapbox://styles/wenxiangdong/cjjuyolqw21sf2rmmrrp13azv',\n  'night-light-2013': 'mapbox://styles/wenxiangdong/cjjuzjzid0a1a2ro45v4abumf'\n};\n\nlet tileSets = {\n  'hubeiDEM': 'mapbox://wenxiangdong.6mjehw01',\n  'hubeiGDP': 'mapbox://wenxiangdong.aa00vskv',\n  'hubeiSlope': 'mapbox://wenxiangdong.9vwvp9tc',\n  'hubieNightLight': 'mapbox://wenxiangdong.527q7f2p'\n};\nconst REC_LAYER_ID = 'rec-layer-id';\nconst LINE_LAYER_ID = 'line-layer-id';\nexport { ACCESS_TOKEN, CHINA_BOUNDS, CHINA_CENTER, mapStyles, REC_LAYER_ID, LINE_LAYER_ID, HUBEI_BOUNDS, tileSets };\n","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../../node_modules/css-loader/index.js??ref--6-2!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PovertyMap.vue?vue&type=style&index=0&id=104067d7&scoped=true&lang=css\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = require(\"!../../../../../node_modules/vue-style-loader/lib/addStylesClient.js\")(\"79222ff1\", content, true, {});","exports = module.exports = require(\"../../../../../node_modules/css-loader/lib/css-base.js\")(true);\n// imports\n\n\n// module\nexports.push([module.id, \".outer[data-v-104067d7]{position:relative;background:inherit;width:100%;box-shadow:0 0 10px rgba(0,0,0,.5)}#map-container[data-v-104067d7]{height:800px;width:100%}.border-control[data-v-104067d7]{top:10px;left:10px;display:inline-block;position:absolute;z-index:999}\", \"\", {\"version\":3,\"sources\":[\"/Users/law/richmap/client-vue/src/components/common/map/poverty-map/src/components/common/map/poverty-map/PovertyMap.vue\"],\"names\":[],\"mappings\":\"AAyMA,wBACA,kBAAA,AAEA,mBAAA,AACA,WAAA,AACA,kCAAA,CACA,AAEA,gCACA,aAAA,AACA,UAAA,CACA,AAEA,iCACA,SAAA,AACA,UAAA,AACA,qBAAA,AAEA,kBAAA,AACA,WAAA,CACA\",\"file\":\"PovertyMap.vue?vue&type=style&index=0&id=104067d7&scoped=true&lang=css\",\"sourcesContent\":[\"<template>\\n    <div class=\\\"outer\\\">\\n        <div class=\\\"border-control\\\">\\n            <Dropdown trigger=\\\"click\\\" style=\\\"position: relative\\\" placement=\\\"bottom-start\\\">\\n                <Tooltip content=\\\"边界\\\" placement=\\\"right\\\">\\n                    <Button icon=\\\"ios-browsers\\\"></Button>\\n                </Tooltip>\\n                <DropdownMenu slot=\\\"list\\\" style=\\\"text-align: left; width: 130px;\\\">\\n                    <div style=\\\"display: flex; flex-direction: column; padding: 10px;\\\">\\n                        <Checkbox label=\\\"一级行政区边界\\\" @on-change=\\\"handleChangeFirstLevelCheckBox\\\">一级行政区边界</Checkbox>\\n                        <Checkbox label=\\\"二级行政区边界\\\" @on-change=\\\"handleChangeSecondLevelCheckBox\\\">二级行政区边界</Checkbox>\\n                        <Checkbox label=\\\"三级行政区边界\\\" @on-change=\\\"handleChangeThirdLevelCheckBox\\\">三级行政区边界</Checkbox>\\n                    </div>\\n                </DropdownMenu>\\n            </Dropdown>\\n        </div>\\n        <div id=\\\"map-container\\\"></div>\\n    </div>\\n</template>\\n\\n<script lang=\\\"ts\\\">\\n  import Vue from 'vue';\\n  import { Component, Emit, Prop, Watch } from 'vue-property-decorator';\\n  import NominatimService from '../../../../services/nominatim.service';\\n  import { Logger } from '../../../../services/Logger';\\n  import mapboxgl from 'mapbox-gl';\\n  import { ACCESS_TOKEN, CHINA_BOUNDS, CHINA_CENTER, HUBEI_BOUNDS } from '../../../../constants/mapbox';\\n  import PlaceItem from '../../../../types/place-item';\\n  import {Dropdown, Tooltip, DropdownMenu, Checkbox, Button} from 'iview';\\n\\n  @Component({\\n    components: {Dropdown, Tooltip, DropdownMenu, Checkbox, Button}\\n  })\\n  export default class PovertyMap extends Vue {\\n    private TAG = 'PovertyMap';\\n    private FIRST_LEVEL_LAYER_ID = 'first-level';\\n    private SECOND_LEVEL_LAYER_ID = 'second-level';\\n    private THIRD_LEVEL_LAYER_ID = 'third-level';\\n    private borderPaint = {\\n      'line-color': 'rgba(255,255,255,0.5)',\\n      'line-width': 2\\n    };\\n\\n    // 行政区域划分图层\\n    private firstLevelLayer: mapboxgl.Layer;\\n    private secondLevelLayer: mapboxgl.Layer;\\n    private thirdLevelLayer: mapboxgl.Layer;\\n    private map: mapboxgl.Map;\\n\\n\\n    // 基础地图源\\n    @Prop({\\n      default: () => 'mapbox://styles/mapbox/satellite-v9'\\n    })\\n    public mapUrl: string;\\n\\n\\n    @Watch('mapUrl')\\n    onMapUrlChange(val: string, oldVal: string) {\\n      Logger.info(this.TAG, val, oldVal);\\n      this.map.setStyle(val);\\n    }\\n\\n    // data\\n    public query: string;\\n    public searchItems: PlaceItem[];\\n\\n    // services\\n    private nominatimService: NominatimService;\\n\\n    constructor() {\\n      super();\\n      Logger.info(this.TAG, \\\"constructor\\\");\\n      this.query = \\\"\\\";\\n      this.searchItems = [];\\n      this.nominatimService = new NominatimService();\\n    }\\n\\n    mounted() {\\n      Logger.info(this.TAG, \\\"mounted\\\");\\n      this.initMap();\\n    }\\n\\n    private initMap() {\\n      Logger.info(this.TAG, \\\"start init map\\\");\\n      mapboxgl.accessToken = ACCESS_TOKEN;\\n      this.map = new mapboxgl.Map({\\n        container: 'map-container',\\n        style: this.mapUrl,\\n        // center: CHINA_CENTER,\\n        maxBounds: HUBEI_BOUNDS\\n      });\\n      // 增加控件\\n      this.map.addControl(new mapboxgl.NavigationControl());\\n      this.map.addControl(new mapboxgl.ScaleControl());\\n      // 初始化完成\\n      this.map.on(\\\"load\\\", () => {\\n        this.onMapLoad(this.map);\\n        // console.log(this.map.getZoom());\\n      });\\n    }\\n\\n    /* 事件emit */\\n    // 地图加载完成，返回一个 mapboxgl 地图对象\\n    @Emit()\\n    public onMapLoad(map: mapboxgl.Map) {}\\n\\n    /* 下面是事件处理 */\\n\\n    public handleChangeFirstLevelCheckBox(value) {\\n      if (value) {\\n        this.showFirstLevelBorder();\\n      } else {\\n        this.map.removeLayer(this.FIRST_LEVEL_LAYER_ID);\\n      }\\n    }\\n\\n    public handleChangeSecondLevelCheckBox(value) {\\n      if (value) {\\n        this.showSecondLevelBorder();\\n      } else {\\n        this.map.removeLayer(this.SECOND_LEVEL_LAYER_ID);\\n      }\\n    }\\n\\n    public handleChangeThirdLevelCheckBox(value) {\\n      if (value) {\\n        this.showThirdLevelBorder();\\n      } else {\\n        this.map.removeLayer(this.THIRD_LEVEL_LAYER_ID);\\n        this.map.removeSource(this.FIRST_LEVEL_LAYER_ID);\\n      }\\n    }\\n\\n    public showFirstLevelBorder() {\\n      Logger.info(this.TAG, \\\"show first level border\\\");\\n      // 未加载过\\n      if (!this.firstLevelLayer) {\\n        this.map.addSource(this.FIRST_LEVEL_LAYER_ID, {\\n          type: 'vector',\\n          url: 'mapbox://vsr2018.78vj6bhk'\\n        });\\n        let layer: mapboxgl.Layer = {\\n          id: this.FIRST_LEVEL_LAYER_ID,\\n          type: \\\"line\\\",\\n          source: this.FIRST_LEVEL_LAYER_ID,\\n          'source-layer': 'first-6jawx0',\\n          paint: this.borderPaint\\n        };\\n        this.firstLevelLayer = layer;\\n      }\\n      this.map.addLayer(this.firstLevelLayer);\\n      this.map.on('sourcedata', this.FIRST_LEVEL_LAYER_ID, () => {\\n        Logger.info(this.TAG, 'load layer');\\n      })\\n    }\\n\\n    public showSecondLevelBorder() {\\n      Logger.info(this.TAG, \\\"showSecondLevelBorder\\\");\\n      // 未加载过\\n      if (!this.secondLevelLayer) {\\n        this.map.addSource(this.SECOND_LEVEL_LAYER_ID, {\\n          type: 'vector',\\n          url: 'mapbox://vsr2018.050px5x2'\\n        });\\n        let layer: mapboxgl.Layer = {\\n          id: this.SECOND_LEVEL_LAYER_ID,\\n          type: \\\"line\\\",\\n          source: this.SECOND_LEVEL_LAYER_ID,\\n          paint: this.borderPaint,\\n          'source-layer': 'second-dsvifq'\\n        };\\n        this.secondLevelLayer = layer;\\n      }\\n      this.map.addLayer(this.secondLevelLayer);\\n    }\\n\\n    public showThirdLevelBorder() {\\n      Logger.info(this.TAG, \\\"showThirdLevelBorder\\\");\\n      // 未加载过\\n      if (!this.thirdLevelLayer) {\\n        this.map.addSource(this.THIRD_LEVEL_LAYER_ID, {\\n          type: 'vector',\\n          url: 'mapbox://vsr2018.5tz0fat5'\\n        });\\n        let layer: mapboxgl.Layer = {\\n          id: this.THIRD_LEVEL_LAYER_ID,\\n          type: \\\"line\\\",\\n          source: this.THIRD_LEVEL_LAYER_ID,\\n          paint: this.borderPaint,\\n          'source-layer': 'third-dppmjz'\\n        };\\n        this.thirdLevelLayer = layer;\\n      }\\n      this.map.addLayer(this.thirdLevelLayer);\\n    }\\n  }\\n</script>\\n\\n\\n<style scoped>\\n    .outer {\\n        position: relative;\\n        /*background-image: linear-gradient( 135deg, #92FFC0 30%, #00266150 100%);*/\\n        background: inherit;\\n        width: 100%;\\n        box-shadow: rgba(0, 0, 0, 0.5) 0 0 10px;\\n    }\\n\\n    #map-container {\\n        height: 800px;\\n        width: 100%;\\n    }\\n\\n    .border-control {\\n        top: 10px;\\n        left: 10px;\\n        display: inline-block;\\n        /*width: 20px;*/\\n        position: absolute;\\n        z-index: 999;\\n    }\\n</style>\"],\"sourceRoot\":\"\"}]);\n\n// exports\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"outer\"},[_c('div',{staticClass:\"border-control\"},[_c('Dropdown',{staticStyle:{\"position\":\"relative\"},attrs:{\"trigger\":\"click\",\"placement\":\"bottom-start\"}},[_c('Tooltip',{attrs:{\"content\":\"边界\",\"placement\":\"right\"}},[_c('Button',{attrs:{\"icon\":\"ios-browsers\"}})],1),_vm._v(\" \"),_c('DropdownMenu',{staticStyle:{\"text-align\":\"left\",\"width\":\"130px\"},attrs:{\"slot\":\"list\"},slot:\"list\"},[_c('div',{staticStyle:{\"display\":\"flex\",\"flex-direction\":\"column\",\"padding\":\"10px\"}},[_c('Checkbox',{attrs:{\"label\":\"一级行政区边界\"},on:{\"on-change\":_vm.handleChangeFirstLevelCheckBox}},[_vm._v(\"一级行政区边界\")]),_vm._v(\" \"),_c('Checkbox',{attrs:{\"label\":\"二级行政区边界\"},on:{\"on-change\":_vm.handleChangeSecondLevelCheckBox}},[_vm._v(\"二级行政区边界\")]),_vm._v(\" \"),_c('Checkbox',{attrs:{\"label\":\"三级行政区边界\"},on:{\"on-change\":_vm.handleChangeThirdLevelCheckBox}},[_vm._v(\"三级行政区边界\")])],1)])],1)],1),_vm._v(\" \"),_c('div',{attrs:{\"id\":\"map-container\"}})])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/ts-loader/index.js??ref--1-1!../../../../../node_modules/tslint-loader/index.js!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PovertyMap.vue?vue&type=script&lang=ts\"; export default mod; export * from \"-!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/ts-loader/index.js??ref--1-1!../../../../../node_modules/tslint-loader/index.js!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PovertyMap.vue?vue&type=script&lang=ts\"","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from 'vue';\nimport { Component, Emit, Prop, Watch } from 'vue-property-decorator';\nimport NominatimService from '../../../../services/nominatim.service';\nimport { Logger } from '../../../../services/Logger';\nimport mapboxgl from 'mapbox-gl';\nimport { ACCESS_TOKEN, CHINA_BOUNDS, CHINA_CENTER, HUBEI_BOUNDS } from '../../../../constants/mapbox';\nimport PlaceItem from '../../../../types/place-item';\nimport {Dropdown, Tooltip, DropdownMenu, Checkbox, Button} from 'iview';\n\n@Component({\n  components: {Dropdown, Tooltip, DropdownMenu, Checkbox, Button}\n})\nexport default class PovertyMap extends Vue {\n  private TAG = 'PovertyMap';\n  private FIRST_LEVEL_LAYER_ID = 'first-level';\n  private SECOND_LEVEL_LAYER_ID = 'second-level';\n  private THIRD_LEVEL_LAYER_ID = 'third-level';\n  private borderPaint = {\n    'line-color': 'rgba(255,255,255,0.5)',\n    'line-width': 2\n  };\n\n  // 行政区域划分图层\n  private firstLevelLayer: mapboxgl.Layer;\n  private secondLevelLayer: mapboxgl.Layer;\n  private thirdLevelLayer: mapboxgl.Layer;\n  private map: mapboxgl.Map;\n\n\n  // 基础地图源\n  @Prop({\n    default: () => 'mapbox://styles/mapbox/satellite-v9'\n  })\n  public mapUrl: string;\n\n\n  @Watch('mapUrl')\n  onMapUrlChange(val: string, oldVal: string) {\n    Logger.info(this.TAG, val, oldVal);\n    this.map.setStyle(val);\n  }\n\n  // data\n  public query: string;\n  public searchItems: PlaceItem[];\n\n  // services\n  private nominatimService: NominatimService;\n\n  constructor() {\n    super();\n    Logger.info(this.TAG, \"constructor\");\n    this.query = \"\";\n    this.searchItems = [];\n    this.nominatimService = new NominatimService();\n  }\n\n  mounted() {\n    Logger.info(this.TAG, \"mounted\");\n    this.initMap();\n  }\n\n  private initMap() {\n    Logger.info(this.TAG, \"start init map\");\n    mapboxgl.accessToken = ACCESS_TOKEN;\n    this.map = new mapboxgl.Map({\n      container: 'map-container',\n      style: this.mapUrl,\n      // center: CHINA_CENTER,\n      maxBounds: HUBEI_BOUNDS\n    });\n    // 增加控件\n    this.map.addControl(new mapboxgl.NavigationControl());\n    this.map.addControl(new mapboxgl.ScaleControl());\n    // 初始化完成\n    this.map.on(\"load\", () => {\n      this.onMapLoad(this.map);\n      // console.log(this.map.getZoom());\n    });\n  }\n\n  /* 事件emit */\n  // 地图加载完成，返回一个 mapboxgl 地图对象\n  @Emit()\n  public onMapLoad(map: mapboxgl.Map) {}\n\n  /* 下面是事件处理 */\n\n  public handleChangeFirstLevelCheckBox(value) {\n    if (value) {\n      this.showFirstLevelBorder();\n    } else {\n      this.map.removeLayer(this.FIRST_LEVEL_LAYER_ID);\n    }\n  }\n\n  public handleChangeSecondLevelCheckBox(value) {\n    if (value) {\n      this.showSecondLevelBorder();\n    } else {\n      this.map.removeLayer(this.SECOND_LEVEL_LAYER_ID);\n    }\n  }\n\n  public handleChangeThirdLevelCheckBox(value) {\n    if (value) {\n      this.showThirdLevelBorder();\n    } else {\n      this.map.removeLayer(this.THIRD_LEVEL_LAYER_ID);\n      this.map.removeSource(this.FIRST_LEVEL_LAYER_ID);\n    }\n  }\n\n  public showFirstLevelBorder() {\n    Logger.info(this.TAG, \"show first level border\");\n    // 未加载过\n    if (!this.firstLevelLayer) {\n      this.map.addSource(this.FIRST_LEVEL_LAYER_ID, {\n        type: 'vector',\n        url: 'mapbox://vsr2018.78vj6bhk'\n      });\n      let layer: mapboxgl.Layer = {\n        id: this.FIRST_LEVEL_LAYER_ID,\n        type: \"line\",\n        source: this.FIRST_LEVEL_LAYER_ID,\n        'source-layer': 'first-6jawx0',\n        paint: this.borderPaint\n      };\n      this.firstLevelLayer = layer;\n    }\n    this.map.addLayer(this.firstLevelLayer);\n    this.map.on('sourcedata', this.FIRST_LEVEL_LAYER_ID, () => {\n      Logger.info(this.TAG, 'load layer');\n    })\n  }\n\n  public showSecondLevelBorder() {\n    Logger.info(this.TAG, \"showSecondLevelBorder\");\n    // 未加载过\n    if (!this.secondLevelLayer) {\n      this.map.addSource(this.SECOND_LEVEL_LAYER_ID, {\n        type: 'vector',\n        url: 'mapbox://vsr2018.050px5x2'\n      });\n      let layer: mapboxgl.Layer = {\n        id: this.SECOND_LEVEL_LAYER_ID,\n        type: \"line\",\n        source: this.SECOND_LEVEL_LAYER_ID,\n        paint: this.borderPaint,\n        'source-layer': 'second-dsvifq'\n      };\n      this.secondLevelLayer = layer;\n    }\n    this.map.addLayer(this.secondLevelLayer);\n  }\n\n  public showThirdLevelBorder() {\n    Logger.info(this.TAG, \"showThirdLevelBorder\");\n    // 未加载过\n    if (!this.thirdLevelLayer) {\n      this.map.addSource(this.THIRD_LEVEL_LAYER_ID, {\n        type: 'vector',\n        url: 'mapbox://vsr2018.5tz0fat5'\n      });\n      let layer: mapboxgl.Layer = {\n        id: this.THIRD_LEVEL_LAYER_ID,\n        type: \"line\",\n        source: this.THIRD_LEVEL_LAYER_ID,\n        paint: this.borderPaint,\n        'source-layer': 'third-dppmjz'\n      };\n      this.thirdLevelLayer = layer;\n    }\n    this.map.addLayer(this.thirdLevelLayer);\n  }\n}\n","import { render, staticRenderFns } from \"./PovertyMap.vue?vue&type=template&id=104067d7&scoped=true\"\nimport script from \"./PovertyMap.vue?vue&type=script&lang=ts\"\nexport * from \"./PovertyMap.vue?vue&type=script&lang=ts\"\nimport style0 from \"./PovertyMap.vue?vue&type=style&index=0&id=104067d7&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"104067d7\",\n  null\n  \n)\n\nexport default component.exports","import { Logger } from '@/services/Logger';\n\nexport default class Nomination {\n  async search(keyword: string): Promise<any> {\n    const url = `https://nominatim.openstreetmap.org/search?format=json&q=${decodeURIComponent(keyword)}`;\n    Logger.info(this, `start to fetch ${url}`);\n    try {\n      let res = await fetch(url);\n      res = await res.json();\n      Logger.info(this, 'fetch success', res);\n      return res;\n    } catch (e) {\n      Logger.error(this, 'fetch error', e);\n      throw e;\n    }\n  }\n}\n","import mod from \"-!../../../node_modules/extract-text-webpack-plugin/dist/loader.js??ref--6-0!../../../node_modules/vue-style-loader/index.js!../../../node_modules/css-loader/index.js??ref--6-2!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Try.vue?vue&type=style&index=0&lang=css\"; export default mod; export * from \"-!../../../node_modules/extract-text-webpack-plugin/dist/loader.js??ref--6-0!../../../node_modules/vue-style-loader/index.js!../../../node_modules/css-loader/index.js??ref--6-2!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Try.vue?vue&type=style&index=0&lang=css\""],"sourceRoot":""}