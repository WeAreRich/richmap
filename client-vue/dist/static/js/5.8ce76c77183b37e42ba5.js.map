{"version":3,"sources":["webpack:///./src/components/pages/Try.vue?765e","webpack:///./src/components/pages/Try.vue?5e49","webpack:///./src/components/pages/Try.vue?be0f","webpack:///./src/components/pages/Try.vue","webpack:///./src/components/common/map/poverty-map/PovertyMap.vue?5562","webpack:///./node_modules/iview/src/directives/transfer-dom.js","webpack:///./src/services/Logger/index.ts","webpack:///./src/constants/mapbox.ts","webpack:///./node_modules/v-click-outside-x/dist/v-click-outside-x.min.js","webpack:///./src/components/common/map/poverty-map/PovertyMap.vue?97c6","webpack:///./src/components/common/map/poverty-map/PovertyMap.vue?1ce8","webpack:///./src/components/common/map/poverty-map/PovertyMap.vue?d051","webpack:///./src/components/common/map/poverty-map/PovertyMap.vue","webpack:///./src/services/nominatim.service.ts","webpack:///./node_modules/iview/src/components/base/popper.js","webpack:///./src/components/pages/Try.vue?5876"],"names":["o","r","n","i","a","s","c","l","Symbol","iterator","e","constructor","prototype","u","Object","setPrototypeOf","__proto__","Array","t","hasOwnProperty","this","create","pages_Tryvue_type_script_lang_ts","_super","Try","_this","apply","arguments","TAG","mapStyles","mapbox","d","urls","ids","index","__extends","handleSelect","Logger","info","handleOnMapLoad","map","handleChange","addSource","type","url","addLayer","id","source","source-layer","handleShow","animationService","showLayer","handleHide","hideLayer","handleAuto","autoDisplay","length","getOwnPropertyDescriptor","Reflect","decorate","defineProperty","__decorate","vue_property_decorator","components","PovertyMap","default","vue_runtime_esm","component","componentNormalizer","_vm","_h","$createElement","_c","_self","staticStyle","width","margin","on","on-map-load","_v","click","_l","_s","$event","__webpack_exports__","H09I","getTarget","node","document","body","window","Node","querySelector","directive","[object Object]","el","value","vnode","dataset","transfer","className","parentNode","home","createComment","hasMovedOut","replaceChild","appendChild","__transferDomData","target","ref$1","assign","replace","L7K1","LdhC","tag","contents","_i","time","Date","toLocaleTimeString","console","_a","contents_1","item","log","concat","error","contents_2","contents_3","OK+q","__webpack_require__","tileSets","ACCESS_TOKEN","HUBEI_BOUNDS","night-light-2001","night-light-2013","hubeiDEM","hubeiGDP","hubeiSlope","hubieNightLight","REC_LAYER_ID","eFtz","global","self","Function","module","exports","call","m","enumerable","get","toStringTag","__esModule","bind","p","install","f","contains","binding","modifiers","stop","stopPropagation","prevent","preventDefault","keys","forEach","defineProperties","$_captureInstances","$_nonCaptureInstances","$_onCaptureEvent","$_onNonCaptureEvent","TypeError","arg","capture","isArray","push","addEventListener","unbind","filter","removeEventListener","h","y","v","poverty_map_PovertyMapvue_type_script_lang_ts","FIRST_LEVEL_LAYER_ID","SECOND_LEVEL_LAYER_ID","THIRD_LEVEL_LAYER_ID","borderPaint","line-color","line-width","firstLevelLayer","secondLevelLayer","thirdLevelLayer","firstCheck","secondCheck","thirdCheck","mapUrl","query","searchItems","nominatimService","nominatim_service","onMapUrlChange","val","oldVal","setStyle","mounted","initMap","mapbox_gl_default","accessToken","Map","container","style","maxBounds","b","addControl","NavigationControl","ScaleControl","$emit","handleChangeFirstLevelCheckBox","showFirstLevelBorder","removeLayer","handleChangeSecondLevelCheckBox","showSecondLevelBorder","handleChangeThirdLevelCheckBox","showThirdLevelBorder","layer","paint","Dropdown","dropdown","Tooltip","tooltip","DropdownMenu","dropdown_menu","Button","components_button","_","staticClass","position","attrs","trigger","placement","content","icon","text-align","slot","display","flex-direction","padding","for","Nomination","search","keyword","decodeURIComponent","_services_Logger__WEBPACK_IMPORTED_MODULE_0__","trys","fetch","res","sent","json","e_1","oBAn","isServer","$isServer","Popper","props","String","boundariesPadding","Number","reference","popper","offset","Boolean","transition","options","computeStyle","gpuAcceleration","preventOverflow","boundariesElement","visible","watch","immediate","updatePopper","methods","test","$refs","popperJS","destroy","onCreate","$nextTick","update","createPopper"],"mappings":"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","file":"static/js/5.8ce76c77183b37e42ba5.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticStyle:{\"width\":\"80%\",\"margin\":\"auto\"}},[_c('poverty-map',{on:{\"on-map-load\":_vm.handleOnMapLoad}}),_vm._v(\" \"),_c('Button',{on:{\"click\":_vm.handleChange}},[_vm._v(\"change\")]),_vm._v(\" \"),_c('Button',{on:{\"click\":_vm.handleHide}},[_vm._v(\"hide\")]),_vm._v(\" \"),_c('ol',_vm._l((_vm.ids),function(id){return _c('li',[_vm._v(\"\\n            \"+_vm._s(id)+\"\\n            \"),_c('Button',{on:{\"click\":function($event){_vm.handleShow(id)}}},[_vm._v(\"显示\")])],1)})),_vm._v(\" \"),_c('Button',{on:{\"click\":_vm.handleAuto}},[_vm._v(\"Auto\")])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--1-1!../../../node_modules/tslint-loader/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Try.vue?vue&type=script&lang=ts\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--1-1!../../../node_modules/tslint-loader/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Try.vue?vue&type=script&lang=ts\"","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from 'vue';\nimport PovertyMap from '../common/map/poverty-map/PovertyMap.vue';\nimport { Component } from 'vue-property-decorator';\n// import MapQueryComponent from '../map/MapQueryComponent.vue';\nimport { mapStyles } from '../../constants/mapbox';\nimport { MapSourceAnimationService } from '../../services/map-source-animation.service';\nimport { Logger } from '../../services/Logger';\n\n@Component({\n  components: {\n    PovertyMap\n  }\n})\nexport default class Try extends Vue {\n  private TAG = 'Try.vue';\n  private mapStyles = mapStyles;\n  private map: mapboxgl.Map;\n  private animationService: MapSourceAnimationService;\n  private id: string;\n\n  urls = ['mapbox://wenxiangdong.0u7nbzi0', 'mapbox://wenxiangdong.dhr5yy3g'];\n  ids = [];\n\n  index = 'night-light-2013';\n\n  handleSelect(n) {\n    Logger.info(this.TAG, n);\n  }\n\n  handleOnMapLoad(map: mapboxgl.Map) {\n    Logger.info(this.TAG, 'map loaded', map);\n    this.map = map;\n  }\n  handleChange() {\n    Logger.info(this.TAG, 'change');\n    // let url = 'mapbox://wenxiangdong.dhr5yy3g';\n    this.map.addSource('hubei', {\n      type: 'raster',\n      url: 'mapbox://vsr2018.2g41qcaf'\n    });\n    this.map.addLayer({\n      id: 'hubei',\n      type: 'raster',\n      source: 'hubei',\n      'source-layer': '1-6zujon'\n    });\n\n  }\n  handleShow(id) {\n    Logger.info(this.TAG, id);\n    this.animationService.showLayer(id);\n  }\n  handleHide() {\n    if (!this.animationService) return;\n    this.animationService.hideLayer(this.id);\n  }\n\n  handleAuto() {\n    this.animationService.autoDisplay();\n  }\n}\n","import { render, staticRenderFns } from \"./Try.vue?vue&type=template&id=b39d9fe4\"\nimport script from \"./Try.vue?vue&type=script&lang=ts\"\nexport * from \"./Try.vue?vue&type=script&lang=ts\"\nimport style0 from \"./Try.vue?vue&type=style&index=0&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../../../node_modules/extract-text-webpack-plugin/dist/loader.js??ref--6-0!../../../../../node_modules/vue-style-loader/index.js!../../../../../node_modules/css-loader/index.js??ref--6-2!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PovertyMap.vue?vue&type=style&index=0&id=8d93675c&scoped=true&lang=css\"; export default mod; export * from \"-!../../../../../node_modules/extract-text-webpack-plugin/dist/loader.js??ref--6-0!../../../../../node_modules/vue-style-loader/index.js!../../../../../node_modules/css-loader/index.js??ref--6-2!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PovertyMap.vue?vue&type=style&index=0&id=8d93675c&scoped=true&lang=css\"","// Thanks to: https://github.com/airyland/vux/blob/v2/src/directives/transfer-dom/index.js\n// Thanks to: https://github.com/calebroseland/vue-dom-portal\n\n/**\n * Get target DOM Node\n * @param {(Node|string|Boolean)} [node=document.body] DOM Node, CSS selector, or Boolean\n * @return {Node} The target that the el will be appended to\n */\nfunction getTarget (node) {\n    if (node === void 0) {\n        node = document.body\n    }\n    if (node === true) { return document.body }\n    return node instanceof window.Node ? node : document.querySelector(node)\n}\n\nconst directive = {\n    inserted (el, { value }, vnode) {\n        if ( el.dataset && el.dataset.transfer !== 'true') return false;\n        el.className = el.className ? el.className + ' v-transfer-dom' : 'v-transfer-dom';\n        const parentNode = el.parentNode;\n        if (!parentNode) return;\n        const home = document.createComment('');\n        let hasMovedOut = false;\n\n        if (value !== false) {\n            parentNode.replaceChild(home, el); // moving out, el is no longer in the document\n            getTarget(value).appendChild(el); // moving into new place\n            hasMovedOut = true\n        }\n        if (!el.__transferDomData) {\n            el.__transferDomData = {\n                parentNode: parentNode,\n                home: home,\n                target: getTarget(value),\n                hasMovedOut: hasMovedOut\n            }\n        }\n    },\n    componentUpdated (el, { value }) {\n        if ( el.dataset && el.dataset.transfer !== 'true') return false;\n        // need to make sure children are done updating (vs. `update`)\n        const ref$1 = el.__transferDomData;\n        if (!ref$1) return;\n        // homes.get(el)\n        const parentNode = ref$1.parentNode;\n        const home = ref$1.home;\n        const hasMovedOut = ref$1.hasMovedOut; // recall where home is\n\n        if (!hasMovedOut && value) {\n            // remove from document and leave placeholder\n            parentNode.replaceChild(home, el);\n            // append to target\n            getTarget(value).appendChild(el);\n            el.__transferDomData = Object.assign({}, el.__transferDomData, { hasMovedOut: true, target: getTarget(value) });\n        } else if (hasMovedOut && value === false) {\n            // previously moved, coming back home\n            parentNode.replaceChild(el, home);\n            el.__transferDomData = Object.assign({}, el.__transferDomData, { hasMovedOut: false, target: getTarget(value) });\n        } else if (value) {\n            // already moved, going somewhere else\n            getTarget(value).appendChild(el);\n        }\n    },\n    unbind (el) {\n        if (el.dataset && el.dataset.transfer !== 'true') return false;\n        el.className = el.className.replace('v-transfer-dom', '');\n        const ref$1 = el.__transferDomData;\n        if (!ref$1) return;\n        if (el.__transferDomData.hasMovedOut === true) {\n            el.__transferDomData.parentNode && el.__transferDomData.parentNode.appendChild(el)\n        }\n        el.__transferDomData = null\n    }\n};\n\nexport default directive;","/*\n日志类\n */\nexport class Logger {\n  private instance: Logger;\n\n  static info(tag, ...contents): void {\n    let time = new Date().toLocaleTimeString();\n    if (console.info) {\n      console.info(`At ${time} in 【${tag}】`);\n      for (let item of contents) {\n        console.info(item);\n      }\n      console.log('-------------------------------');\n    } else {\n      Logger.log(tag, ...contents);\n    }\n  }\n\n  static error(tag, ...contents): void {\n    let time = new Date().toLocaleTimeString();\n    if (console.error) {\n      console.error(`At ${time} in ${tag}`);\n      for (let item of contents) {\n        console.error(item);\n      }\n    } else {\n      Logger.log(tag, ...contents);\n    }\n  }\n\n  static log(tag, ...contents): void {\n    let time = new Date().toLocaleTimeString();\n    console.log(`At ${time} in ${tag}`);\n    for (let item of contents) {\n      console.log(item);\n    }\n  }\n}\n","const ACCESS_TOKEN = 'pk.eyJ1Ijoid2VueGlhbmdkb25nIiwiYSI6ImNqajEyN2owYjBvNHYzdm10c2p2NXowM2kifQ.kixIr8Jwk2mAqmlQCWW88Q';\nconst CHINA_BOUNDS = [[70, 17], [140, 55]];\n// 108.3,29.0,116.3,33.3\nconst HUBEI_BOUNDS =[[108.3,29.0],[116.3,33.3]];\n\nconst CHINA_CENTER = [104.999927, 35.000074];\nlet mapStyles = {\n  'night-light-2001': 'mapbox://styles/wenxiangdong/cjjuyolqw21sf2rmmrrp13azv',\n  'night-light-2013': 'mapbox://styles/wenxiangdong/cjjuzjzid0a1a2ro45v4abumf'\n};\n\nlet tileSets = {\n  'hubeiDEM': 'mapbox://wenxiangdong.6mjehw01',\n  'hubeiGDP': 'mapbox://wenxiangdong.aa00vskv',\n  'hubeiSlope': 'mapbox://wenxiangdong.9vwvp9tc',\n  'hubieNightLight': 'mapbox://wenxiangdong.527q7f2p'\n};\nconst REC_LAYER_ID = 'rec-layer-id';\nconst LINE_LAYER_ID = 'line-layer-id';\nexport { ACCESS_TOKEN, CHINA_BOUNDS, CHINA_CENTER, mapStyles, REC_LAYER_ID, LINE_LAYER_ID, HUBEI_BOUNDS, tileSets };\n","!function(e,t){\"object\"==typeof exports&&\"object\"==typeof module?module.exports=t():\"function\"==typeof define&&define.amd?define([],t):\"object\"==typeof exports?exports.vClickOutside=t():e.vClickOutside=t()}(function(){\"use strict\";return\"undefined\"!=typeof self?self:\"undefined\"!=typeof window?window:\"undefined\"!=typeof global?global:Function(\"return this\")()}(),function(){return function(e){var t={};function n(o){if(t[o])return t[o].exports;var r=t[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&\"object\"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,\"default\",{enumerable:!0,value:e}),2&t&&\"string\"!=typeof e)for(var r in e)n.d(o,r,function(t){return e[t]}.bind(null,r));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,\"a\",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p=\"\",n(n.s=0)}([function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var o=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e},r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e};t.install=function(e){e.directive(\"click-outside\",p)};var u=Object.create(null),i=Object.create(null),f=[u,i],c=function(e,t,n){var o=n.target,r=function(t){var r=t.el;if(r!==o&&!r.contains(o)){var u=t.binding;u.modifiers.stop&&n.stopPropagation(),u.modifiers.prevent&&n.preventDefault(),u.value.call(e,n)}};Object.keys(t).forEach(function(e){return t[e].forEach(r)})},a=function(e){c(this,u,e)},l=function(e){c(this,i,e)},d=function(e){return e?a:l},p=t.directive=Object.defineProperties({},{$_captureInstances:{value:u},$_nonCaptureInstances:{value:i},$_onCaptureEvent:{value:a},$_onNonCaptureEvent:{value:l},bind:{value:function(e,t){if(\"function\"!=typeof t.value)throw new TypeError(\"Binding value must be a function.\");var n=t.arg||\"click\",f=r({},t,{arg:n,modifiers:r({capture:!1,prevent:!1,stop:!1},t.modifiers)}),c=f.modifiers.capture,a=c?u:i;Array.isArray(a[n])||(a[n]=[]),1===a[n].push({el:e,binding:f})&&\"object\"===(\"undefined\"==typeof document?\"undefined\":o(document))&&document&&document.addEventListener(n,d(c),c)}},unbind:{value:function(e){var t=function(t){return t.el!==e};f.forEach(function(e){var n=Object.keys(e);if(n.length){var r=e===u;n.forEach(function(n){var u=e[n].filter(t);u.length?e[n]=u:(\"object\"===(\"undefined\"==typeof document?\"undefined\":o(document))&&document&&document.removeEventListener(n,d(r),r),delete e[n])})}})}}})}])});\n//# sourceMappingURL=v-click-outside-x.min.js.map","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"outer\"},[_c('div',{staticClass:\"border-control\"},[_c('Dropdown',{staticStyle:{\"position\":\"relative\"},attrs:{\"trigger\":\"click\",\"placement\":\"bottom-start\"}},[_c('Tooltip',{attrs:{\"content\":\"边界\",\"placement\":\"right\"}},[_c('Button',{attrs:{\"icon\":\"ios-browsers\"}})],1),_vm._v(\" \"),_c('DropdownMenu',{staticStyle:{\"text-align\":\"left\",\"width\":\"130px\"},attrs:{\"slot\":\"list\"},slot:\"list\"},[_c('div',{staticStyle:{\"display\":\"flex\",\"flex-direction\":\"column\",\"padding\":\"10px\"}},[_c('div',[_c('input',{attrs:{\"type\":\"checkbox\",\"id\":\"first\"},on:{\"click\":_vm.handleChangeFirstLevelCheckBox}}),_vm._v(\" \"),_c('label',{attrs:{\"for\":\"first\"}},[_vm._v(\"一级行政区边界\")])]),_vm._v(\" \"),_c('div',[_c('input',{attrs:{\"type\":\"checkbox\",\"id\":\"second\"},on:{\"click\":_vm.handleChangeSecondLevelCheckBox}}),_vm._v(\" \"),_c('label',{attrs:{\"for\":\"second\"}},[_vm._v(\"二级行政区边界\")])]),_vm._v(\" \"),_c('div',[_c('input',{attrs:{\"type\":\"checkbox\",\"id\":\"third\"},on:{\"click\":_vm.handleChangeThirdLevelCheckBox}}),_vm._v(\" \"),_c('label',{attrs:{\"for\":\"third\"}},[_vm._v(\"三级行政区边界\")]),_vm._v(\" \"),_c('Button',{on:{\"click\":_vm.handleChangeFirstLevelCheckBox}})],1)])])],1)],1),_vm._v(\" \"),_c('div',{attrs:{\"id\":\"map-container\"}})])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/ts-loader/index.js??ref--1-1!../../../../../node_modules/tslint-loader/index.js!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PovertyMap.vue?vue&type=script&lang=ts\"; export default mod; export * from \"-!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/ts-loader/index.js??ref--1-1!../../../../../node_modules/tslint-loader/index.js!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PovertyMap.vue?vue&type=script&lang=ts\"","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from 'vue';\ndeclare var require : (filename,resolve)=>any;\nimport { Component, Emit, Prop, Watch } from 'vue-property-decorator';\nimport NominatimService from '../../../../services/nominatim.service';\nimport { Logger } from '../../../../services/Logger';\nimport mapboxgl from 'mapbox-gl';\n// const mapboxgl = (a) => require('mapbox-gl.js',a);\nimport { ACCESS_TOKEN, CHINA_BOUNDS, CHINA_CENTER, HUBEI_BOUNDS } from '../../../../constants/mapbox';\nimport PlaceItem from '../../../../types/place-item';\nimport {Dropdown, Tooltip, DropdownMenu, Button} from 'iview';\n\n@Component({\n  components: {Dropdown, Tooltip, DropdownMenu, Button}\n})\nexport default class PovertyMap extends Vue {\n  private TAG = 'PovertyMap';\n  private FIRST_LEVEL_LAYER_ID = 'first-level';\n  private SECOND_LEVEL_LAYER_ID = 'second-level';\n  private THIRD_LEVEL_LAYER_ID = 'third-level';\n  private borderPaint = {\n    'line-color': 'rgba(255,255,255,0.5)',\n    'line-width': 2\n  };\n\n  // 行政区域划分图层\n  private firstLevelLayer: mapboxgl.Layer = undefined;\n  private secondLevelLayer: mapboxgl.Layer = undefined;\n  private thirdLevelLayer: mapboxgl.Layer = undefined;\n  private map: mapboxgl.Map;\n\n  public firstCheck = false;\n  public secondCheck = false;\n  public thirdCheck = false;\n\n\n  // // 基础地图源\n  // @Prop({\n  //   default: () => 'mapbox://styles/mapbox/satellite-v9'\n  // })\n  public mapUrl = 'mapbox://styles/mapbox/satellite-v9';\n\n\n  @Watch('mapUrl')\n  onMapUrlChange(val: string, oldVal: string) {\n    Logger.info(this.TAG, val, oldVal);\n    this.map.setStyle(val);\n  }\n\n  // data\n  public query: string;\n  public searchItems: PlaceItem[];\n\n  // services\n  private nominatimService: NominatimService;\n\n  constructor() {\n    super();\n    Logger.info(this.TAG, \"constructor\");\n    this.query = \"\";\n    this.searchItems = [];\n    this.nominatimService = new NominatimService();\n  }\n\n  mounted() {\n    Logger.info(this.TAG, \"mounted\");\n    this.firstLevelLayer = undefined;\n    this.initMap();\n  }\n\n  private initMap() {\n    Logger.info(this.TAG, \"start init map\");\n    mapboxgl.accessToken = ACCESS_TOKEN;\n    this.map = new mapboxgl.Map({\n      container: 'map-container',\n      style: this.mapUrl,\n      maxBounds: HUBEI_BOUNDS\n    });\n    // 增加控件\n    this.map.addControl(new mapboxgl.NavigationControl());\n    this.map.addControl(new mapboxgl.ScaleControl());\n    // 初始化完成\n    this.map.on(\"load\", () => {\n      this.$emit('on-map-load', this.map);\n      // console.log(this.map.getZoom());\n    });\n  }\n\n  public click(){\n    console.log(\"hhhhh\")\n  }\n\n  /* 下面是事件处理 */\n\n\n  public handleChangeFirstLevelCheckBox() {\n    console.log(\"here\");\n    this.firstCheck = !this.firstCheck;\n    if (this.firstCheck) {\n      this.showFirstLevelBorder();\n    } else {\n      this.map.removeLayer(this.FIRST_LEVEL_LAYER_ID);\n    }\n  }\n\n  public handleChangeSecondLevelCheckBox() {\n    this.secondCheck = !this.secondCheck;\n    if (this.secondCheck) {\n      this.showSecondLevelBorder();\n    } else {\n      this.map.removeLayer(this.SECOND_LEVEL_LAYER_ID);\n    }\n  }\n\n  public handleChangeThirdLevelCheckBox() {\n    this.thirdCheck = !this.thirdCheck;\n    if (this.thirdCheck) {\n      this.showThirdLevelBorder();\n    } else {\n      this.map.removeLayer(this.THIRD_LEVEL_LAYER_ID);\n    }\n  }\n\n  public showFirstLevelBorder() {\n    Logger.info(this.TAG, \"show first level border\");\n    // 未加载过\n    if (!this.firstLevelLayer) {\n      console.log(\"add first\");\n      this.map.addSource(this.FIRST_LEVEL_LAYER_ID, {\n        type: 'vector',\n        url: 'mapbox://vsr2018.78vj6bhk'\n      });\n      let layer: mapboxgl.Layer = {\n        id: this.FIRST_LEVEL_LAYER_ID,\n        type: \"line\",\n        source: this.FIRST_LEVEL_LAYER_ID,\n        'source-layer': 'first-6jawx0',\n        paint: this.borderPaint\n      };\n      this.firstLevelLayer = layer;\n      console.log(this.firstLevelLayer)\n    }\n    this.map.addLayer(this.firstLevelLayer);\n    this.map.on('sourcedata', this.FIRST_LEVEL_LAYER_ID, () => {\n      Logger.info(this.TAG, 'load layer');\n    })\n  }\n\n  public showSecondLevelBorder() {\n    Logger.info(this.TAG, \"showSecondLevelBorder\");\n    // 未加载过\n    if (!this.secondLevelLayer) {\n      this.map.addSource(this.SECOND_LEVEL_LAYER_ID, {\n        type: 'vector',\n        url: 'mapbox://vsr2018.050px5x2'\n      });\n      let layer: mapboxgl.Layer = {\n        id: this.SECOND_LEVEL_LAYER_ID,\n        type: \"line\",\n        source: this.SECOND_LEVEL_LAYER_ID,\n        paint: this.borderPaint,\n        'source-layer': 'second-dsvifq'\n      };\n      this.secondLevelLayer = layer;\n    }\n    this.map.addLayer(this.secondLevelLayer);\n  }\n\n  public showThirdLevelBorder() {\n    Logger.info(this.TAG, \"showThirdLevelBorder\");\n    // 未加载过\n    if (!this.thirdLevelLayer) {\n      this.map.addSource(this.THIRD_LEVEL_LAYER_ID, {\n        type: 'vector',\n        url: 'mapbox://vsr2018.5tz0fat5'\n      });\n      let layer: mapboxgl.Layer = {\n        id: this.THIRD_LEVEL_LAYER_ID,\n        type: \"line\",\n        source: this.THIRD_LEVEL_LAYER_ID,\n        paint: this.borderPaint,\n        'source-layer': 'third-dppmjz'\n      };\n      this.thirdLevelLayer = layer;\n    }\n    this.map.addLayer(this.thirdLevelLayer);\n  }\n}\n","import { render, staticRenderFns } from \"./PovertyMap.vue?vue&type=template&id=8d93675c&scoped=true\"\nimport script from \"./PovertyMap.vue?vue&type=script&lang=ts\"\nexport * from \"./PovertyMap.vue?vue&type=script&lang=ts\"\nimport style0 from \"./PovertyMap.vue?vue&type=style&index=0&id=8d93675c&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"8d93675c\",\n  null\n  \n)\n\nexport default component.exports","import { Logger } from '@/services/Logger';\n\nexport default class Nomination {\n  async search(keyword: string): Promise<any> {\n    const url = `https://nominatim.openstreetmap.org/search?format=json&q=${decodeURIComponent(keyword)}`;\n    Logger.info(this, `start to fetch ${url}`);\n    try {\n      let res = await fetch(url);\n      res = await res.json();\n      Logger.info(this, 'fetch success', res);\n      return res;\n    } catch (e) {\n      Logger.error(this, 'fetch error', e);\n      throw e;\n    }\n  }\n}\n","/**\n * https://github.com/freeze-component/vue-popper\n * */\nimport Vue from 'vue';\nconst isServer = Vue.prototype.$isServer;\nconst Popper = isServer ? function() {} : require('popper.js/dist/umd/popper.js');  // eslint-disable-line\n\nexport default {\n    props: {\n        placement: {\n            type: String,\n            default: 'bottom'\n        },\n        boundariesPadding: {\n            type: Number,\n            default: 5\n        },\n        reference: Object,\n        popper: Object,\n        offset: {\n            default: 0\n        },\n        value: {\n            type: Boolean,\n            default: false\n        },\n        transition: String,\n        options: {\n            type: Object,\n            default () {\n                return {\n                    modifiers: {\n                        computeStyle:{\n                            gpuAcceleration: false,\n                        },\n                        preventOverflow :{\n                            boundariesElement: 'window'\n                        }\n                    }\n                };\n            }\n        },\n        // visible: {\n        //     type: Boolean,\n        //     default: false\n        // }\n    },\n    data () {\n        return {\n            visible: this.value\n        };\n    },\n    watch: {\n        value: {\n            immediate: true,\n            handler(val) {\n                this.visible = val;\n                this.$emit('input', val);\n            }\n        },\n        visible(val) {\n            if (val) {\n                this.updatePopper();\n                this.$emit('on-popper-show');\n            } else {\n                this.$emit('on-popper-hide');\n            }\n            this.$emit('input', val);\n        }\n    },\n    methods: {\n        createPopper() {\n            if (isServer) return;\n            if (!/^(top|bottom|left|right)(-start|-end)?$/g.test(this.placement)) {\n                return;\n            }\n\n            const options = this.options;\n            const popper = this.popper || this.$refs.popper;\n            const reference = this.reference || this.$refs.reference;\n\n            if (!popper || !reference) return;\n\n            if (this.popperJS && this.popperJS.hasOwnProperty('destroy')) {\n                this.popperJS.destroy();\n            }\n\n            options.placement = this.placement;\n\n            if (!options.modifiers.offset) {\n                options.modifiers.offset = {};\n            }\n            options.modifiers.offset.offset = this.offset;\n            options.onCreate =()=>{\n                this.$nextTick(this.updatePopper);\n                this.$emit('created', this);\n            };\n\n            this.popperJS = new Popper(reference, popper, options);\n\n        },\n        updatePopper() {\n            if (isServer) return;\n            this.popperJS ? this.popperJS.update() : this.createPopper();\n        },\n        doDestroy() {\n            if (isServer) return;\n            if (this.visible) return;\n            this.popperJS.destroy();\n            this.popperJS = null;\n        }\n    },\n    updated (){\n        this.$nextTick(()=>this.updatePopper());\n\n    },\n    beforeDestroy() {\n        if (isServer) return;\n        if (this.popperJS) {\n            this.popperJS.destroy();\n        }\n    }\n};\n","import mod from \"-!../../../node_modules/extract-text-webpack-plugin/dist/loader.js??ref--6-0!../../../node_modules/vue-style-loader/index.js!../../../node_modules/css-loader/index.js??ref--6-2!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Try.vue?vue&type=style&index=0&lang=css\"; export default mod; export * from \"-!../../../node_modules/extract-text-webpack-plugin/dist/loader.js??ref--6-0!../../../node_modules/vue-style-loader/index.js!../../../node_modules/css-loader/index.js??ref--6-2!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Try.vue?vue&type=style&index=0&lang=css\""],"sourceRoot":""}