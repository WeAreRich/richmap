(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{"4GRs":function(e,t,n){"use strict";t.a={MENU:{MAP:"贫困地图",RANK:"贫困排名",DETECT:"贫困监测",HELP_SERVICE:"助贫服务",TYPICAL_COMPARISONS:"典型比较",LOGO_NAME:"中国贫困在线"},SIDE_MENU:{MAP_YEAR:"地图年份",MAP_LEVEL:{TITLE:"地图级别",PROVINCE:"省",CITY:"市",COUNTY:"县/区"},MAP_SEARCH:"区域名称(输入以搜索)",MAP_TYPE:{TITLE:"地图类型选择",ADMINISTRATION_MAP:"行政地图",POOR_STATE:"贫困情况",POOR_DETECT:"贫困监测",POOR_SERVICE:"助贫服务"},DATA_TYPE:"数据类型",START_DATE:"起始时间",END_DATE:"结束时间"},ONLINE_CONSULT:{TITLE:"在线咨询",CONTENT:"微信号:zhanglingzheHUGH"},FOOTER:{UNIQUE_SERVICE:{TITLE:"特色服务",LEVEL_EVALUATE:"贫困等级估计",DATA_SUPPLY:"贫困数据提供",PLAN_ESTABLISH:"扶贫计划制定",HELP_RECOMMEND:"志愿帮扶推荐"},CONTACT:{TITLE:"联系我们",PHONE_CHENGDU:"028-84073638",NAME_CHENGDU:"成都",PHONE_NANJING:"025-89680960 428",NAME_NANJING:"南京"}},ACCOUNT:{LOGIN:{TITLE:"登录",USERNAME:"用户名",PASSWORD:"密码"}},GUIDE:{DATA_YEAR:"数据年份"},SEARCH:{TITLE:"聚合搜索"}}},"6Ev8":function(e,t){},"Is+2":function(e,t,n){"use strict";n.r(t);var r,a=n("07II"),o=n("Ga51"),i=n("AfiY"),l=n("CT9D"),c=n("MRqH"),s=n("YKMj"),u=n("4GRs"),p=n("8tg7"),f=n("2ELc"),h=n("Kw5r"),y=n("mJf8"),d=n("jF86"),b=n("LdhC"),m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},v=(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),E=function(e){function t(){var t=e.call(this)||this;return t.mapSearch=u.a.SIDE_MENU.MAP_SEARCH,t.TAG="SearchPlace",t.nominatimService=new d.a,t.query="",t.searchItems=[],t}return v(t,e),t.prototype.handleSearch=function(e){return function(e,t,n,r){return new(n||(n=Promise))(function(a,o){function i(e){try{c(r.next(e))}catch(e){o(e)}}function l(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){e.done?a(e.value):new n(function(t){t(e.value)}).then(i,l)}c((r=r.apply(e,t||[])).next())})}(this,void 0,void 0,function(){var t;return function(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function l(o){return function(l){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=(a=i.trys).length>0&&a[a.length-1])&&(6===o[0]||2===o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}}(this,function(n){switch(n.label){case 0:if(b.a.info(this.TAG,"search",e),!e)return[2];n.label=1;case 1:return n.trys.push([1,3,,4]),t=this,[4,this.nominatimService.search(e)];case 2:return t.searchItems=n.sent(),[3,4];case 3:return n.sent(),[3,4];case 4:return[2]}})})},t.prototype.handleSelectPlace=function(e){b.a.info(this.TAG,"select "+e),this.$emit("set-place",e);var t=this.searchItems.findIndex(function(t){return t.display_name===e});if(t<0)b.a.error(this.TAG,"not found "+e);else{var n=this.searchItems[t];this.$emit("on-select-place",n)}},function(e,t,n,r){var a,o=arguments.length,i=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":m(Reflect))&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var l=e.length-1;l>=0;l--)(a=e[l])&&(i=(o<3?a(i):o>3?a(t,n,i):a(t,n))||i);return o>3&&i&&Object.defineProperty(t,n,i),i}([Object(s.a)({components:{AutoComplete:y.a,Option:l.a}})],t)}(h.default),S=(n("vL7V"),n("KHd+")),_=Object(S.a)(E,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("AutoComplete",{attrs:{placeholder:e.mapSearch,size:"large",clearable:""},on:{"on-select":e.handleSelectPlace,"on-search":e.handleSearch},model:{value:e.query,callback:function(t){e.query=t},expression:"query"}},e._l(e.searchItems,function(t,r){return n("Option",{key:r,attrs:{value:t.display_name}},[n("span",[e._v(e._s(t.display_name))])])}))],1)},[],!1,null,"481544e3",null).exports,T=n("R138"),P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},O=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),g=function(e){function t(){var t=e.call(this)||this;return t.mapYear=u.a.SIDE_MENU.MAP_YEAR,t.selectedYear=new Date,t.dataType="",t.rules={selectedPlace:[{required:!0,message:"地点不能为空",trigger:"blur"}],selectedYear:[{required:!0,message:"年份不能为空",trigger:"blur"}]},t.typeOptions=[{label:"DEM",value:"hubeiDEM"},{label:"GDP",value:"hubeiGDP"},{label:"坡度",value:"hubeiSlope"},{label:"夜间灯光",value:"hubeiNightLight"}],t.messageService=new T.a(t),t}return O(t,e),t.prototype.handleSelectPlace=function(e){this.selectedPlace=e},t.prototype.handleClickSearch=function(){this.selectedYear?this.dataType?this.$emit("child-say",this.selectedYear.getFullYear(),this.dataType):this.messageService.error("请选择一个类型"):this.messageService.error("请选择一个年份")},function(e,t,n,r){var a,o=arguments.length,i=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":P(Reflect))&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var l=e.length-1;l>=0;l--)(a=e[l])&&(i=(o<3?a(i):o>3?a(t,n,i):a(t,n))||i);return o>3&&i&&Object.defineProperty(t,n,i),i}([Object(s.a)({components:{SearchPlace:_,Form:f.a,FormItem:p.a,Button:i.a,DatePicker:o.a,Select:c.a,Option:l.a}})],t)}(h.default),A=(n("qWCI"),Object(S.a)(g,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("Form",{ref:"paramsForm",staticStyle:{padding:"20px","background-color":"whitesmoke",margin:"5px","-webkit-border-radius":"5px"},attrs:{ruls:e.rules}},[n("FormItem",{attrs:{prop:"selectedYear"}},[n("DatePicker",{staticStyle:{width:"100%"},attrs:{type:"year",size:"large",placeholder:e.mapYear},model:{value:e.selectedYear,callback:function(t){e.selectedYear=t},expression:"selectedYear"}})],1),e._v(" "),n("FormItem",{attrs:{prop:"selectedPlace"}},[n("Select",{attrs:{placeholder:"数据类型",size:"large"},model:{value:e.dataType,callback:function(t){e.dataType=t},expression:"dataType"}},e._l(e.typeOptions,function(t){return n("Option",{attrs:{value:t.value}},[e._v("\n                "+e._s(t.label)+"\n            ")])}))],1),e._v(" "),n("FormItem",[n("Button",{staticStyle:{width:"100%"},attrs:{type:"primary",size:"large"},on:{click:e.handleClickSearch}},[e._v("确定\n        ")])],1)],1)},[],!1,null,"70a78274",null).exports),w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},D=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),I="DetectFixedSideMenu",N=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.dataType="",t.startDate=u.a.SIDE_MENU.START_DATE,t.endDate=u.a.SIDE_MENU.END_DATE,t.mapType=u.a.SIDE_MENU.MAP_TYPE.TITLE,t.mapTypeAdministration=u.a.SIDE_MENU.MAP_TYPE.ADMINISTRATION_MAP,t.mapPoorState=u.a.SIDE_MENU.MAP_TYPE.POOR_STATE,t.mapPoorDetect=u.a.SIDE_MENU.MAP_TYPE.POOR_DETECT,t.mapPoorService=u.a.SIDE_MENU.MAP_TYPE.POOR_SERVICE,t.dataTypeList=[],t.mapTypeList=[],t.startYear=new Date,t.endYear=new Date,t.isPlaying=!1,t.typeOptions=[{label:"DEM",value:"hubeiDEM"},{label:"GDP",value:"hubeiGDP"},{label:"坡度",value:"hubeiSlope"},{label:"夜间灯光",value:"hubeiNightLight"}],t.dataTypeValue=[],t.mapTypeValue=[],t}return D(t,e),t.prototype.listenToMyBoy=function(e,t){this.$emit("child-say",e,t)},t.prototype.mounted=function(){return function(e,t,n,r){return new(n||(n=Promise))(function(a,o){function i(e){try{c(r.next(e))}catch(e){o(e)}}function l(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){e.done?a(e.value):new n(function(t){t(e.value)}).then(i,l)}c((r=r.apply(e,t||[])).next())})}(this,void 0,void 0,function(){return function(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function l(o){return function(l){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=(a=i.trys).length>0&&a[a.length-1])&&(6===o[0]||2===o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}}(this,function(e){return this.mapTypeList=[{value:this.mapTypeAdministration,label:this.mapTypeAdministration,children:[]},{value:this.mapPoorState,label:this.mapPoorState,children:this.dataTypeList},{value:this.mapPoorDetect,label:this.mapPoorDetect,children:[]},{value:this.mapPoorService,label:this.mapPoorService,children:[]}],this.messageService=new T.a(this),[2]})})},t.prototype.handleSelectPlace=function(e){b.a.info(I,e),this.$emit("on-select-place",e)},t.prototype.handlePlay=function(){b.a.info(I,this.startYear,this.endYear,this.dataType),this.startYear&&this.endYear&&this.dataType?(this.isPlaying=!0,this.$emit("on-play",this.startYear.getFullYear(),this.endYear.getFullYear(),this.dataType)):this.messageService.error("请确保填写了各项参数")},t.prototype.handleStop=function(){this.$emit("on-stop"),this.isPlaying=!1},function(e,t,n,r){var a,o=arguments.length,i=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":w(Reflect))&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var l=e.length-1;l>=0;l--)(a=e[l])&&(i=(o<3?a(i):o>3?a(t,n,i):a(t,n))||i);return o>3&&i&&Object.defineProperty(t,n,i),i}([Object(s.a)({components:{SearchPlace:_,MapQueryComponent:A,Select:c.a,Option:l.a,Button:i.a,DatePicker:o.a,Icon:a.a}})],t)}(s.d),x=(n("aPlV"),Object(S.a)(N,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"layout-side"},[n("map-query-component",{on:{"child-say":e.listenToMyBoy}}),e._v(" "),n("div",{staticStyle:{"background-color":"whitesmoke",margin:"5px","-webkit-border-radius":"5px"}},[n("Select",{staticStyle:{padding:"10px 20px"},attrs:{placeholder:"数据类型",size:"large"},model:{value:e.dataType,callback:function(t){e.dataType=t},expression:"dataType"}},e._l(e.typeOptions,function(t){return n("Option",{attrs:{value:t.value}},[e._v("\n                "+e._s(t.label)+"\n            ")])})),e._v(" "),n("DatePicker",{staticStyle:{"padding-left":"20px","padding-right":"20px"},attrs:{type:"year",placeholder:e.startDate},model:{value:e.startYear,callback:function(t){e.startYear=t},expression:"startYear"}}),e._v(" "),n("DatePicker",{staticStyle:{"padding-left":"20px","padding-right":"20px"},attrs:{type:"year",placeholder:e.endDate},model:{value:e.endYear,callback:function(t){e.endYear=t},expression:"endYear"}}),e._v(" "),n("div",{staticStyle:{"text-align":"center"}},[n("Button",{attrs:{type:"text",icon:"play",size:"large",disabled:e.isPlaying},on:{click:e.handlePlay}}),e._v(" "),n("Button",{attrs:{type:"text",icon:"stop",size:"large",disabled:!e.isPlaying},on:{click:e.handleStop}})],1)],1),e._v(" "),n("div",{staticStyle:{"background-color":"whitesmoke",margin:"5px","-webkit-border-radius":"5px"}},[n("SearchPlace",{on:{"on-select-place":e.handleSelectPlace}})],1)],1)},[],!1,null,"63bdf8be",null));t.default=x.exports},aPlV:function(e,t,n){"use strict";var r=n("lxpo");n.n(r).a},j2Zm:function(e,t){},jF86:function(e,t,n){"use strict";var r=n("LdhC"),a=function(){function e(){}return e.prototype.search=function(e){return function(e,t,n,r){return new(n||(n=Promise))(function(a,o){function i(e){try{c(r.next(e))}catch(e){o(e)}}function l(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){e.done?a(e.value):new n(function(t){t(e.value)}).then(i,l)}c((r=r.apply(e,t||[])).next())})}(this,void 0,void 0,function(){var t,n,a;return function(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function l(o){return function(l){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=(a=i.trys).length>0&&a[a.length-1])&&(6===o[0]||2===o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}}(this,function(o){switch(o.label){case 0:t="https://nominatim.openstreetmap.org/search?format=json&q="+decodeURIComponent(e),r.a.info(this,"start to fetch "+t),o.label=1;case 1:return o.trys.push([1,4,,5]),[4,fetch(t)];case 2:return[4,(n=o.sent()).json()];case 3:return n=o.sent(),r.a.info(this,"fetch success",n),[2,n];case 4:throw a=o.sent(),r.a.error(this,"fetch error",a),a;case 5:return[2]}})})},e}();t.a=a},lxpo:function(e,t){},qWCI:function(e,t,n){"use strict";var r=n("j2Zm");n.n(r).a},vL7V:function(e,t,n){"use strict";var r=n("6Ev8");n.n(r).a}}]);
//# sourceMappingURL=14.2ee4ae8712d558622dc4.js.map