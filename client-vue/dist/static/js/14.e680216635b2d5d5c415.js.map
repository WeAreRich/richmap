{"version":3,"sources":["webpack:///./src/components/common/map/poverty-map/PovertyMap.vue?5562","webpack:///./node_modules/iview/src/directives/transfer-dom.js","webpack:///./node_modules/v-click-outside-x/dist/v-click-outside-x.min.js","webpack:///./src/components/common/map/poverty-map/PovertyMap.vue?97c6","webpack:///./src/components/common/map/poverty-map/PovertyMap.vue?1ce8","webpack:///./src/components/common/map/poverty-map/PovertyMap.vue?d051","webpack:///./src/components/common/map/poverty-map/PovertyMap.vue","webpack:///./src/services/nominatim.service.ts","webpack:///./node_modules/iview/src/components/base/popper.js"],"names":["a","H09I","e","t","r","getTarget","node","document","body","window","Node","querySelector","directive","[object Object]","el","value","vnode","dataset","transfer","className","parentNode","home","createComment","hasMovedOut","replaceChild","appendChild","__transferDomData","target","ref$1","Object","assign","replace","__webpack_exports__","n","L7K1","eFtz","global","self","Function","module","exports","o","i","l","call","m","c","d","defineProperty","enumerable","get","Symbol","toStringTag","__esModule","create","bind","default","prototype","hasOwnProperty","p","s","iterator","constructor","arguments","length","install","u","f","contains","binding","modifiers","stop","stopPropagation","prevent","preventDefault","keys","forEach","this","defineProperties","$_captureInstances","$_nonCaptureInstances","$_onCaptureEvent","$_onNonCaptureEvent","TypeError","arg","capture","Array","isArray","push","addEventListener","unbind","filter","removeEventListener","h","v","y","setPrototypeOf","__proto__","getOwnPropertyDescriptor","Reflect","decorate","poverty_map_PovertyMapvue_type_script_lang_ts","_super","PovertyMap","_this","TAG","FIRST_LEVEL_LAYER_ID","SECOND_LEVEL_LAYER_ID","THIRD_LEVEL_LAYER_ID","borderPaint","line-color","line-width","firstLevelLayer","secondLevelLayer","thirdLevelLayer","firstCheck","secondCheck","thirdCheck","mapUrl","Logger","info","query","searchItems","nominatimService","nominatim_service","__extends","onMapUrlChange","val","oldVal","map","setStyle","mounted","initMap","mapbox_gl_default","accessToken","mapbox","Map","container","style","maxBounds","b","addControl","NavigationControl","ScaleControl","on","$emit","click","console","log","handleChangeFirstLevelCheckBox","showFirstLevelBorder","removeLayer","handleChangeSecondLevelCheckBox","showSecondLevelBorder","handleChangeThirdLevelCheckBox","showThirdLevelBorder","addSource","type","url","layer","id","source","source-layer","paint","addLayer","__decorate","vue_property_decorator","components","Dropdown","dropdown","Tooltip","tooltip","DropdownMenu","dropdown_menu","Button","components_button","vue_runtime_esm","_","component","componentNormalizer","_vm","_h","$createElement","_c","_self","staticClass","staticStyle","position","attrs","trigger","placement","content","icon","_v","text-align","width","slot","display","flex-direction","padding","for","Nomination","search","keyword","decodeURIComponent","_services_Logger__WEBPACK_IMPORTED_MODULE_0__","trys","fetch","res","_a","sent","json","error","e_1","oBAn","isServer","__webpack_require__","$isServer","Popper","props","String","boundariesPadding","Number","reference","popper","offset","Boolean","transition","options","computeStyle","gpuAcceleration","preventOverflow","boundariesElement","visible","watch","immediate","updatePopper","methods","test","$refs","popperJS","destroy","onCreate","$nextTick","update","createPopper"],"mappings":"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","file":"static/js/14.e680216635b2d5d5c415.js","sourcesContent":["import mod from \"-!../../../../../node_modules/extract-text-webpack-plugin/dist/loader.js??ref--6-0!../../../../../node_modules/vue-style-loader/index.js!../../../../../node_modules/css-loader/index.js??ref--6-2!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PovertyMap.vue?vue&type=style&index=0&id=8d93675c&scoped=true&lang=css\"; export default mod; export * from \"-!../../../../../node_modules/extract-text-webpack-plugin/dist/loader.js??ref--6-0!../../../../../node_modules/vue-style-loader/index.js!../../../../../node_modules/css-loader/index.js??ref--6-2!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PovertyMap.vue?vue&type=style&index=0&id=8d93675c&scoped=true&lang=css\"","// Thanks to: https://github.com/airyland/vux/blob/v2/src/directives/transfer-dom/index.js\n// Thanks to: https://github.com/calebroseland/vue-dom-portal\n\n/**\n * Get target DOM Node\n * @param {(Node|string|Boolean)} [node=document.body] DOM Node, CSS selector, or Boolean\n * @return {Node} The target that the el will be appended to\n */\nfunction getTarget (node) {\n    if (node === void 0) {\n        node = document.body\n    }\n    if (node === true) { return document.body }\n    return node instanceof window.Node ? node : document.querySelector(node)\n}\n\nconst directive = {\n    inserted (el, { value }, vnode) {\n        if ( el.dataset && el.dataset.transfer !== 'true') return false;\n        el.className = el.className ? el.className + ' v-transfer-dom' : 'v-transfer-dom';\n        const parentNode = el.parentNode;\n        if (!parentNode) return;\n        const home = document.createComment('');\n        let hasMovedOut = false;\n\n        if (value !== false) {\n            parentNode.replaceChild(home, el); // moving out, el is no longer in the document\n            getTarget(value).appendChild(el); // moving into new place\n            hasMovedOut = true\n        }\n        if (!el.__transferDomData) {\n            el.__transferDomData = {\n                parentNode: parentNode,\n                home: home,\n                target: getTarget(value),\n                hasMovedOut: hasMovedOut\n            }\n        }\n    },\n    componentUpdated (el, { value }) {\n        if ( el.dataset && el.dataset.transfer !== 'true') return false;\n        // need to make sure children are done updating (vs. `update`)\n        const ref$1 = el.__transferDomData;\n        if (!ref$1) return;\n        // homes.get(el)\n        const parentNode = ref$1.parentNode;\n        const home = ref$1.home;\n        const hasMovedOut = ref$1.hasMovedOut; // recall where home is\n\n        if (!hasMovedOut && value) {\n            // remove from document and leave placeholder\n            parentNode.replaceChild(home, el);\n            // append to target\n            getTarget(value).appendChild(el);\n            el.__transferDomData = Object.assign({}, el.__transferDomData, { hasMovedOut: true, target: getTarget(value) });\n        } else if (hasMovedOut && value === false) {\n            // previously moved, coming back home\n            parentNode.replaceChild(el, home);\n            el.__transferDomData = Object.assign({}, el.__transferDomData, { hasMovedOut: false, target: getTarget(value) });\n        } else if (value) {\n            // already moved, going somewhere else\n            getTarget(value).appendChild(el);\n        }\n    },\n    unbind (el) {\n        if (el.dataset && el.dataset.transfer !== 'true') return false;\n        el.className = el.className.replace('v-transfer-dom', '');\n        const ref$1 = el.__transferDomData;\n        if (!ref$1) return;\n        if (el.__transferDomData.hasMovedOut === true) {\n            el.__transferDomData.parentNode && el.__transferDomData.parentNode.appendChild(el)\n        }\n        el.__transferDomData = null\n    }\n};\n\nexport default directive;","!function(e,t){\"object\"==typeof exports&&\"object\"==typeof module?module.exports=t():\"function\"==typeof define&&define.amd?define([],t):\"object\"==typeof exports?exports.vClickOutside=t():e.vClickOutside=t()}(function(){\"use strict\";return\"undefined\"!=typeof self?self:\"undefined\"!=typeof window?window:\"undefined\"!=typeof global?global:Function(\"return this\")()}(),function(){return function(e){var t={};function n(o){if(t[o])return t[o].exports;var r=t[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&\"object\"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,\"default\",{enumerable:!0,value:e}),2&t&&\"string\"!=typeof e)for(var r in e)n.d(o,r,function(t){return e[t]}.bind(null,r));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,\"a\",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p=\"\",n(n.s=0)}([function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var o=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e},r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e};t.install=function(e){e.directive(\"click-outside\",p)};var u=Object.create(null),i=Object.create(null),f=[u,i],c=function(e,t,n){var o=n.target,r=function(t){var r=t.el;if(r!==o&&!r.contains(o)){var u=t.binding;u.modifiers.stop&&n.stopPropagation(),u.modifiers.prevent&&n.preventDefault(),u.value.call(e,n)}};Object.keys(t).forEach(function(e){return t[e].forEach(r)})},a=function(e){c(this,u,e)},l=function(e){c(this,i,e)},d=function(e){return e?a:l},p=t.directive=Object.defineProperties({},{$_captureInstances:{value:u},$_nonCaptureInstances:{value:i},$_onCaptureEvent:{value:a},$_onNonCaptureEvent:{value:l},bind:{value:function(e,t){if(\"function\"!=typeof t.value)throw new TypeError(\"Binding value must be a function.\");var n=t.arg||\"click\",f=r({},t,{arg:n,modifiers:r({capture:!1,prevent:!1,stop:!1},t.modifiers)}),c=f.modifiers.capture,a=c?u:i;Array.isArray(a[n])||(a[n]=[]),1===a[n].push({el:e,binding:f})&&\"object\"===(\"undefined\"==typeof document?\"undefined\":o(document))&&document&&document.addEventListener(n,d(c),c)}},unbind:{value:function(e){var t=function(t){return t.el!==e};f.forEach(function(e){var n=Object.keys(e);if(n.length){var r=e===u;n.forEach(function(n){var u=e[n].filter(t);u.length?e[n]=u:(\"object\"===(\"undefined\"==typeof document?\"undefined\":o(document))&&document&&document.removeEventListener(n,d(r),r),delete e[n])})}})}}})}])});\n//# sourceMappingURL=v-click-outside-x.min.js.map","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"outer\"},[_c('div',{staticClass:\"border-control\"},[_c('Dropdown',{staticStyle:{\"position\":\"relative\"},attrs:{\"trigger\":\"click\",\"placement\":\"bottom-start\"}},[_c('Tooltip',{attrs:{\"content\":\"边界\",\"placement\":\"right\"}},[_c('Button',{attrs:{\"icon\":\"ios-browsers\"}})],1),_vm._v(\" \"),_c('DropdownMenu',{staticStyle:{\"text-align\":\"left\",\"width\":\"130px\"},attrs:{\"slot\":\"list\"},slot:\"list\"},[_c('div',{staticStyle:{\"display\":\"flex\",\"flex-direction\":\"column\",\"padding\":\"10px\"}},[_c('div',[_c('input',{attrs:{\"type\":\"checkbox\",\"id\":\"first\"},on:{\"click\":_vm.handleChangeFirstLevelCheckBox}}),_vm._v(\" \"),_c('label',{attrs:{\"for\":\"first\"}},[_vm._v(\"一级行政区边界\")])]),_vm._v(\" \"),_c('div',[_c('input',{attrs:{\"type\":\"checkbox\",\"id\":\"second\"},on:{\"click\":_vm.handleChangeSecondLevelCheckBox}}),_vm._v(\" \"),_c('label',{attrs:{\"for\":\"second\"}},[_vm._v(\"二级行政区边界\")])]),_vm._v(\" \"),_c('div',[_c('input',{attrs:{\"type\":\"checkbox\",\"id\":\"third\"},on:{\"click\":_vm.handleChangeThirdLevelCheckBox}}),_vm._v(\" \"),_c('label',{attrs:{\"for\":\"third\"}},[_vm._v(\"三级行政区边界\")]),_vm._v(\" \"),_c('Button',{on:{\"click\":_vm.handleChangeFirstLevelCheckBox}})],1)])])],1)],1),_vm._v(\" \"),_c('div',{attrs:{\"id\":\"map-container\"}})])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/ts-loader/index.js??ref--1-1!../../../../../node_modules/tslint-loader/index.js!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PovertyMap.vue?vue&type=script&lang=ts\"; export default mod; export * from \"-!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/ts-loader/index.js??ref--1-1!../../../../../node_modules/tslint-loader/index.js!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PovertyMap.vue?vue&type=script&lang=ts\"","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from 'vue';\ndeclare var require : (filename,resolve)=>any;\nimport { Component, Emit, Prop, Watch } from 'vue-property-decorator';\nimport NominatimService from '../../../../services/nominatim.service';\nimport { Logger } from '../../../../services/Logger';\nimport mapboxgl from 'mapbox-gl';\n// const mapboxgl = (a) => require('mapbox-gl.js',a);\nimport { ACCESS_TOKEN, CHINA_BOUNDS, CHINA_CENTER, HUBEI_BOUNDS } from '../../../../constants/mapbox';\nimport PlaceItem from '../../../../types/place-item';\nimport {Dropdown, Tooltip, DropdownMenu, Button} from 'iview';\n\n@Component({\n  components: {Dropdown, Tooltip, DropdownMenu, Button}\n})\nexport default class PovertyMap extends Vue {\n  private TAG = 'PovertyMap';\n  private FIRST_LEVEL_LAYER_ID = 'first-level';\n  private SECOND_LEVEL_LAYER_ID = 'second-level';\n  private THIRD_LEVEL_LAYER_ID = 'third-level';\n  private borderPaint = {\n    'line-color': 'rgba(255,255,255,0.5)',\n    'line-width': 2\n  };\n\n  // 行政区域划分图层\n  private firstLevelLayer: mapboxgl.Layer = undefined;\n  private secondLevelLayer: mapboxgl.Layer = undefined;\n  private thirdLevelLayer: mapboxgl.Layer = undefined;\n  private map: mapboxgl.Map;\n\n  public firstCheck = false;\n  public secondCheck = false;\n  public thirdCheck = false;\n\n\n  // // 基础地图源\n  // @Prop({\n  //   default: () => 'mapbox://styles/mapbox/satellite-v9'\n  // })\n  public mapUrl = 'mapbox://styles/mapbox/satellite-v9';\n\n\n  @Watch('mapUrl')\n  onMapUrlChange(val: string, oldVal: string) {\n    Logger.info(this.TAG, val, oldVal);\n    this.map.setStyle(val);\n  }\n\n  // data\n  public query: string;\n  public searchItems: PlaceItem[];\n\n  // services\n  private nominatimService: NominatimService;\n\n  constructor() {\n    super();\n    Logger.info(this.TAG, \"constructor\");\n    this.query = \"\";\n    this.searchItems = [];\n    this.nominatimService = new NominatimService();\n  }\n\n  mounted() {\n    Logger.info(this.TAG, \"mounted\");\n    this.firstLevelLayer = undefined;\n    this.initMap();\n  }\n\n  private initMap() {\n    Logger.info(this.TAG, \"start init map\");\n    mapboxgl.accessToken = ACCESS_TOKEN;\n    this.map = new mapboxgl.Map({\n      container: 'map-container',\n      style: this.mapUrl,\n      maxBounds: HUBEI_BOUNDS\n    });\n    // 增加控件\n    this.map.addControl(new mapboxgl.NavigationControl());\n    this.map.addControl(new mapboxgl.ScaleControl());\n    // 初始化完成\n    this.map.on(\"load\", () => {\n      this.$emit('on-map-load', this.map);\n      // console.log(this.map.getZoom());\n    });\n  }\n\n  public click(){\n    console.log(\"hhhhh\")\n  }\n\n  /* 下面是事件处理 */\n\n\n  public handleChangeFirstLevelCheckBox() {\n    console.log(\"here\");\n    this.firstCheck = !this.firstCheck;\n    if (this.firstCheck) {\n      this.showFirstLevelBorder();\n    } else {\n      this.map.removeLayer(this.FIRST_LEVEL_LAYER_ID);\n    }\n  }\n\n  public handleChangeSecondLevelCheckBox() {\n    this.secondCheck = !this.secondCheck;\n    if (this.secondCheck) {\n      this.showSecondLevelBorder();\n    } else {\n      this.map.removeLayer(this.SECOND_LEVEL_LAYER_ID);\n    }\n  }\n\n  public handleChangeThirdLevelCheckBox() {\n    this.thirdCheck = !this.thirdCheck;\n    if (this.thirdCheck) {\n      this.showThirdLevelBorder();\n    } else {\n      this.map.removeLayer(this.THIRD_LEVEL_LAYER_ID);\n    }\n  }\n\n  public showFirstLevelBorder() {\n    Logger.info(this.TAG, \"show first level border\");\n    // 未加载过\n    if (!this.firstLevelLayer) {\n      console.log(\"add first\");\n      this.map.addSource(this.FIRST_LEVEL_LAYER_ID, {\n        type: 'vector',\n        url: 'mapbox://vsr2018.78vj6bhk'\n      });\n      let layer: mapboxgl.Layer = {\n        id: this.FIRST_LEVEL_LAYER_ID,\n        type: \"line\",\n        source: this.FIRST_LEVEL_LAYER_ID,\n        'source-layer': 'first-6jawx0',\n        paint: this.borderPaint\n      };\n      this.firstLevelLayer = layer;\n      console.log(this.firstLevelLayer)\n    }\n    this.map.addLayer(this.firstLevelLayer);\n    this.map.on('sourcedata', this.FIRST_LEVEL_LAYER_ID, () => {\n      Logger.info(this.TAG, 'load layer');\n    })\n  }\n\n  public showSecondLevelBorder() {\n    Logger.info(this.TAG, \"showSecondLevelBorder\");\n    // 未加载过\n    if (!this.secondLevelLayer) {\n      this.map.addSource(this.SECOND_LEVEL_LAYER_ID, {\n        type: 'vector',\n        url: 'mapbox://vsr2018.050px5x2'\n      });\n      let layer: mapboxgl.Layer = {\n        id: this.SECOND_LEVEL_LAYER_ID,\n        type: \"line\",\n        source: this.SECOND_LEVEL_LAYER_ID,\n        paint: this.borderPaint,\n        'source-layer': 'second-dsvifq'\n      };\n      this.secondLevelLayer = layer;\n    }\n    this.map.addLayer(this.secondLevelLayer);\n  }\n\n  public showThirdLevelBorder() {\n    Logger.info(this.TAG, \"showThirdLevelBorder\");\n    // 未加载过\n    if (!this.thirdLevelLayer) {\n      this.map.addSource(this.THIRD_LEVEL_LAYER_ID, {\n        type: 'vector',\n        url: 'mapbox://vsr2018.5tz0fat5'\n      });\n      let layer: mapboxgl.Layer = {\n        id: this.THIRD_LEVEL_LAYER_ID,\n        type: \"line\",\n        source: this.THIRD_LEVEL_LAYER_ID,\n        paint: this.borderPaint,\n        'source-layer': 'third-dppmjz'\n      };\n      this.thirdLevelLayer = layer;\n    }\n    this.map.addLayer(this.thirdLevelLayer);\n  }\n}\n","import { render, staticRenderFns } from \"./PovertyMap.vue?vue&type=template&id=8d93675c&scoped=true\"\nimport script from \"./PovertyMap.vue?vue&type=script&lang=ts\"\nexport * from \"./PovertyMap.vue?vue&type=script&lang=ts\"\nimport style0 from \"./PovertyMap.vue?vue&type=style&index=0&id=8d93675c&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"8d93675c\",\n  null\n  \n)\n\nexport default component.exports","import { Logger } from '@/services/Logger';\n\nexport default class Nomination {\n  async search(keyword: string): Promise<any> {\n    const url = `https://nominatim.openstreetmap.org/search?format=json&q=${decodeURIComponent(keyword)}`;\n    Logger.info(this, `start to fetch ${url}`);\n    try {\n      let res = await fetch(url);\n      res = await res.json();\n      Logger.info(this, 'fetch success', res);\n      return res;\n    } catch (e) {\n      Logger.error(this, 'fetch error', e);\n      throw e;\n    }\n  }\n}\n","/**\n * https://github.com/freeze-component/vue-popper\n * */\nimport Vue from 'vue';\nconst isServer = Vue.prototype.$isServer;\nconst Popper = isServer ? function() {} : require('popper.js/dist/umd/popper.js');  // eslint-disable-line\n\nexport default {\n    props: {\n        placement: {\n            type: String,\n            default: 'bottom'\n        },\n        boundariesPadding: {\n            type: Number,\n            default: 5\n        },\n        reference: Object,\n        popper: Object,\n        offset: {\n            default: 0\n        },\n        value: {\n            type: Boolean,\n            default: false\n        },\n        transition: String,\n        options: {\n            type: Object,\n            default () {\n                return {\n                    modifiers: {\n                        computeStyle:{\n                            gpuAcceleration: false,\n                        },\n                        preventOverflow :{\n                            boundariesElement: 'window'\n                        }\n                    }\n                };\n            }\n        },\n        // visible: {\n        //     type: Boolean,\n        //     default: false\n        // }\n    },\n    data () {\n        return {\n            visible: this.value\n        };\n    },\n    watch: {\n        value: {\n            immediate: true,\n            handler(val) {\n                this.visible = val;\n                this.$emit('input', val);\n            }\n        },\n        visible(val) {\n            if (val) {\n                this.updatePopper();\n                this.$emit('on-popper-show');\n            } else {\n                this.$emit('on-popper-hide');\n            }\n            this.$emit('input', val);\n        }\n    },\n    methods: {\n        createPopper() {\n            if (isServer) return;\n            if (!/^(top|bottom|left|right)(-start|-end)?$/g.test(this.placement)) {\n                return;\n            }\n\n            const options = this.options;\n            const popper = this.popper || this.$refs.popper;\n            const reference = this.reference || this.$refs.reference;\n\n            if (!popper || !reference) return;\n\n            if (this.popperJS && this.popperJS.hasOwnProperty('destroy')) {\n                this.popperJS.destroy();\n            }\n\n            options.placement = this.placement;\n\n            if (!options.modifiers.offset) {\n                options.modifiers.offset = {};\n            }\n            options.modifiers.offset.offset = this.offset;\n            options.onCreate =()=>{\n                this.$nextTick(this.updatePopper);\n                this.$emit('created', this);\n            };\n\n            this.popperJS = new Popper(reference, popper, options);\n\n        },\n        updatePopper() {\n            if (isServer) return;\n            this.popperJS ? this.popperJS.update() : this.createPopper();\n        },\n        doDestroy() {\n            if (isServer) return;\n            if (this.visible) return;\n            this.popperJS.destroy();\n            this.popperJS = null;\n        }\n    },\n    updated (){\n        this.$nextTick(()=>this.updatePopper());\n\n    },\n    beforeDestroy() {\n        if (isServer) return;\n        if (this.popperJS) {\n            this.popperJS.destroy();\n        }\n    }\n};\n"],"sourceRoot":""}